!function(){"use strict";function e(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class t{constructor(t,s){e(this,"_hasInvalidInput",(e=>e.some((e=>!e.validity.valid)))),e(this,"_toggleButtonState",(()=>{this._hasInvalidInput(this._inputList)?(this._buttonElement.classList.add(this._inactiveButtonClass),this._buttonElement.setAttribute("disabled",!0)):(this._buttonElement.classList.remove(this._inactiveButtonClass),this._buttonElement.removeAttribute("disabled"))})),this._inputSelector=t.inputSelector,this._submitButtonSelector=t.submitButtonSelector,this._inactiveButtonClass=t.inactiveButtonClass,this._inputErrorClass=t.inputErrorClass,this._errorClass=t.errorClass,this._formElement=s,this._inputList=Array.from(this._formElement.querySelectorAll(this._inputSelector)),this._buttonElement=this._formElement.querySelector(this._submitButtonSelector)}_showInputError(e,t){const s=this._formElement.querySelector("#".concat(e.id,"-error"));s.textContent=t,s.classList.add(this._errorClass)}_hideInputError(e){const t=this._formElement.querySelector("#".concat(e.id,"-error"));t.classList.remove(this._errorClass),t.textContent=""}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}_setInputsEventListeners(){this._inputList.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButtonState()}))}))}resetValidation(){this._inputList.forEach((e=>{this._hideInputError(e)})),this._toggleButtonState()}enableValidation(){this._formElement.addEventListener("submit",(e=>{e.preventDefault()})),this._setInputsEventListeners()}}class s{constructor(e){var t,s;s=e=>{"Escape"===e.key&&this.close()},(t="_handleEscClose")in this?Object.defineProperty(this,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):this[t]=s,this._popupElement=document.querySelector(e)}open(){this._popupElement.classList.add("popup_active"),document.addEventListener("keydown",this._handleEscClose)}close(){this._popupElement.classList.remove("popup_active"),document.removeEventListener("keydown",this._handleEscClose)}setEventListeners(){this._popupElement.addEventListener("mousedown",(e=>{(e.target.classList.contains("popup_active")||e.target.classList.contains("popup__exit-icon"))&&this.close()}))}}class i extends s{constructor(e,t){super(e),this._formPopupElement=this._popupElement.querySelector(".popup__form"),this._inputList=this._formPopupElement.querySelectorAll(".popup__form-input"),this._submitHandler=t}getInputValues(){const e={};return this._inputList.forEach((t=>{const s=t.name;e[s]=t.value})),e}setEventListeners(){super.setEventListeners(),this._formPopupElement.addEventListener("submit",(e=>{e.preventDefault(),this._submitHandler(),this.close()}))}close(){super.close(),this._formPopupElement.reset()}}const r=".elements__list",n=".profile__name",o=".profile__role",l=(document.querySelector(r),document.querySelector(".profile__edit-btn")),a=document.querySelector(".profile__add-btn"),c=(document.querySelector("#inputName"),document.querySelector("#inputRole"),document.querySelector(n)),h=document.querySelector(o),_=(document.querySelector(".elements__likesNumber"),document.querySelector(".profile__imageContainer")),m=document.querySelector(".profile__image");class u{constructor(e,t,s){let{ownerId:i,text:r,image:n,id:o,likesNum:l,handleCardClick:a,openDeleteConfirmPopUp:c,handleLikeNumber:h}=e;this._text=r,this._image=n,this._likesNum=l,this._templateSelector=t,this._handleCardClick=a,this._openDeleteConfirmPopUp=c,this._element=this._getTemplate(),this._imageItem=this._element.querySelector(".elements__image"),this._textItem=this._element.querySelector(".elements__text"),this._likeItem=this._element.querySelector(".elements__like-btn"),this._deleteItem=this._element.querySelector(".elements__delete-icon"),this._likeNumber=this._element.querySelector(".elements__likesNumber"),this._id=o,this._userId=s,this._ownerId=i,this._handleLikeNumber=h}_getTemplate(){return document.querySelector(this._templateSelector).content.querySelector(".elements__element").cloneNode(!0)}generateCard(){return this._imageItem.src=this._image,this._textItem.textContent=this._text,this._imageItem.alt="view of ".concat(this._text),this.setLikesNum(this._likesNum),this.setEventListeners(),this._userId!==this._ownerId&&this._deleteItem.setAttribute("style","display:none"),this._element}setLikesNum(e){this._likeNumber.textContent=e}setEventListeners(){this._imageItem.addEventListener("click",(()=>{this._handleCardClick()})),this._likeItem.addEventListener("click",(()=>{this._handleLikeToggle()})),this._deleteItem.addEventListener("click",(()=>{this.openDeleteConfirmPopUp()}))}openDeleteConfirmPopUp(){this._openDeleteConfirmPopUp(this._id)}deleteDomCard(){this._element.remove()}_handleLikeToggle(){this._likeItem.classList.toggle("elements__svg-heart_liked");const e=this._likeItem.classList.contains("elements__svg-heart_liked")?"addLike":"deleteLike";this._handleLikeNumber(this._id,e)}}const d=new class{constructor(e){let{baseUrl:t,headers:s}=e;this._baseUrl=t,this._headers=s}getInitialCards(){return fetch("".concat(this._baseUrl,"/cards"),{headers:this._headers}).then((e=>e.ok?e.json():Promise.reject(e.statusText))).catch(console.log)}postNewCard(e,t){return fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:e,link:t})}).then((e=>e.ok?e.json():Promise.reject(e.statusText))).catch(console.log)}confirmDelete(e){return fetch("".concat(this._baseUrl,"/cards/").concat(e),{method:"DELETE",headers:this._headers}).then((e=>e.ok?e.json():Promise.reject(e.statusText))).catch(console.log)}deleteLike(e){return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:"DELETE",headers:this._headers}).then((e=>e.ok?e.json():Promise.reject(e.statusText))).catch(console.log)}addLike(e){return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:"PUT",headers:this._headers}).then((e=>e.ok?e.json():Promise.reject(e.statusText))).catch(console.log)}getUserInfo(){return fetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers}).then((e=>e.ok?e.json():Promise.reject(e.statusText))).catch(console.log)}editUserInfo(e){let{form__name:t,form__role:s}=e;fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:t,about:s})})}editAvatarImage(e){fetch("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})})}}({baseUrl:"https://around.nomoreparties.co/v1/group-12",headers:{authorization:"d117ca4c-01ef-4f19-abee-387b4e32e69d","Content-Type":"application/json"}}),p=new class{constructor(e,t){let{data:s,renderer:i}=e;this._container=document.querySelector(t),this._items=s,this._renderer=i}renderer(){this._items.forEach((e=>{this._renderer(e)}))}addItem(e){this._container.prepend(e)}}({data:[],renderer:e=>{p.addItem(S(e))}},r),f=new i("#addImage",(function(){const e=f.getInputValues(),t=e.form__title,s=e.form__imageLink,i={};i.name=t,i.link=s,d.postNewCard(t,s).then((e=>{i.ownerId=e.owner._id,i._id=e._id,i.likes=e.likes,p.addItem(S(i))}))})),E=new i("#editProfileImage",(function(){const e=E.getInputValues().form__imageLink;d.editAvatarImage(e),m.src=e})),g=new i("#editProfile",(function(){const e=g.getInputValues();L.setUserInfo(e),d.editUserInfo(e)})),b=new class extends s{constructor(e){super(e),this._formPopupElement=this._popupElement.querySelector(".popup__form")}deleteAction(e){this._submitHandler=e}setEventListeners(){super.setEventListeners(),this._formPopupElement.addEventListener("submit",(e=>{e.preventDefault(),this._submitHandler(),this.close()}))}close(){super.close()}}("#confirmDelete"),v=new class extends s{constructor(e){var t,s;super(e),s=(e,t)=>{this._imageFile.src=e,this._imageText.textContent=t,this._imageFile.alt="view of ".concat(t),super.open()},(t="open")in this?Object.defineProperty(this,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):this.open=s,this._imageFile=this._popupElement.querySelector(".popup__imagePopUp"),this._imageText=this._popupElement.querySelector(".popup__imagePopUp-text")}}("#imagePopUp"),L=new class{constructor(e){let{nameSelector:t,roleSelector:s}=e;this._nameSelector=t,this._roleSelector=s,this._profileName=document.querySelector(this._nameSelector),this._profileRole=document.querySelector(this._roleSelector)}getUserInfo(){const e={};return e.name=this._profileName.textContent,e.role=this._profileRole.textContent,e}setUserInfo(e){this._profileName.textContent=e.form__name,this._profileRole.textContent=e.form__role}}({nameSelector:n,roleSelector:o}),k={};var I;I={inputSelector:".popup__form-input",submitButtonSelector:".popup__form-submit-btn",inactiveButtonClass:"popup__form-submit-btn_inactive",inputErrorClass:"popup__form-errorMsg",errorClass:"popup__form-errorMsg_active",formSelector:".popup__form"},Array.from(document.querySelectorAll(I.formSelector)).forEach((e=>{const s=new t(I,e),i=e.getAttribute("name");k[i]=s,s.enableValidation()})),g.setEventListeners(),f.setEventListeners(),E.setEventListeners(),b.setEventListeners();const S=e=>{const t=e.ownerId?e.ownerId:e.owner._id,s=e.name,i=e.link;let r=e.likes.length;const n=e._id;v.setEventListeners();const o=new u({ownerId:t,text:s,image:i,id:n,likesNum:r,handleCardClick:()=>{(e=>{e.open(i,s)})(v)},openDeleteConfirmPopUp:e=>{b.open(),b.deleteAction((()=>{d.confirmDelete(e).then((e=>{o.deleteDomCard()}))}))},handleLikeNumber:(e,t)=>{"addLike"===t?d.addLike(e).then(r+=1):(d.deleteLike(e).then((e=>e)),r>0&&(r-=1)),o.setLikesNum(r)}},"#card-template",y);return o.generateCard()};let y;Promise.all([d.getUserInfo(),d.getInitialCards()]).then((e=>{let[t,s]=e;y=t._id,Array.from(s).forEach((e=>{p.addItem(S(e))})),c.textContent=t.name,h.textContent=t.about})),l.addEventListener("click",(()=>{const e=L.getUserInfo();inputName.setAttribute("value",e.name),inputRole.setAttribute("value",e.role),k.edit__form.resetValidation(),g.open()})),a.addEventListener("click",(()=>{k.add__form.resetValidation(),f.open()})),_.addEventListener("click",(()=>{k.editProfileImage__form.resetValidation(),E.open()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFTaUgsRUFBUTVGLElBQ0g1RSxNQUFNQyxLQUFLd0ssR0FDbkI1SixTQUFTeUosSUFDYnZDLEVBQVFRLFFBQVFFLEVBQWE2QixPQUUvQnJILEVBQVN6QyxZQUFjZ0ssRUFBUS9ILEtBQy9CUyxFQUFTMUMsWUFBY2dLLEVBQVE5QyxTQWdDbkMzRSxFQUFlakMsaUJBQWlCLFNBQVMsS0FDdkMsTUFBTTRKLEVBQXFCekIsRUFBZ0IzQixjQUMzQ3FELFVBQVV4TCxhQUFhLFFBQVN1TCxFQUFtQmpJLE1BQ25EbUksVUFBVXpMLGFBQWEsUUFBU3VMLEVBQW1CWCxNQUNuREMsRUFBYyxXQUFlaEosa0JBQzdCZ0ksRUFBVXRILFVBR1pzQixFQUFjbEMsaUJBQWlCLFNBQVMsS0FDdENrSixFQUFjLFVBQWNoSixrQkFDNUIwSCxFQUFTaEgsVUFHWHlCLEVBQWlCckMsaUJBQWlCLFNBQVMsS0FDekNrSixFQUFjLHVCQUEyQmhKLGtCQUN6QytILEVBQW9CckgsVSIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvcGFnZS9pbmRleC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoU3VibWl0LmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgY29uc3RydWN0b3Ioc2V0dGluZ3MsIGZvcm1FbGVtZW50KSB7XHJcbiAgICB0aGlzLl9pbnB1dFNlbGVjdG9yID0gc2V0dGluZ3MuaW5wdXRTZWxlY3RvcjtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gc2V0dGluZ3Muc3VibWl0QnV0dG9uU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gc2V0dGluZ3MuaW5hY3RpdmVCdXR0b25DbGFzcztcclxuICAgIHRoaXMuX2lucHV0RXJyb3JDbGFzcyA9IHNldHRpbmdzLmlucHV0RXJyb3JDbGFzcztcclxuICAgIHRoaXMuX2Vycm9yQ2xhc3MgPSBzZXR0aW5ncy5lcnJvckNsYXNzO1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcclxuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20oXHJcbiAgICAgIHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcilcclxuICAgICk7XHJcbiAgICB0aGlzLl9idXR0b25FbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3JcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBlcnJvck1lc3NhZ2UpIHtcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIGAjJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxyXG4gICAgKTtcclxuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGVycm9yTWVzc2FnZTtcclxuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG4gIH1cclxuXHJcbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgYCMke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXHJcbiAgICApO1xyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gIH1cclxuXHJcbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpIHtcclxuICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfaGFzSW52YWxpZElucHV0ID0gKGlucHV0TGlzdCkgPT4ge1xyXG4gICAgcmV0dXJuIGlucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICBfdG9nZ2xlQnV0dG9uU3RhdGUgPSAoKSA9PiB7XHJcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KHRoaXMuX2lucHV0TGlzdCkpIHtcclxuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsIHRydWUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIF9zZXRJbnB1dHNFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCk7XHJcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHJlc2V0VmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICB9XHJcblxyXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuX3NldElucHV0c0V2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgb3BlbigpIHtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwicG9wdXBfYWN0aXZlXCIpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX2FjdGl2ZVwiKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVFc2NDbG9zZSA9IChldnQpID0+IHtcclxuICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIChlKSA9PiB7XHJcbiAgICAgIGlmIChcclxuICAgICAgICBlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJwb3B1cF9hY3RpdmVcIikgfHxcclxuICAgICAgICBlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJwb3B1cF9fZXhpdC1pY29uXCIpXHJcbiAgICAgICkge1xyXG4gICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBzdWJtaXRIYW5kbGVyKSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2Zvcm1Qb3B1cEVsZW1lbnQgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybVwiKTtcclxuICAgIHRoaXMuX2lucHV0TGlzdCA9XHJcbiAgICAgIHRoaXMuX2Zvcm1Qb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cF9fZm9ybS1pbnB1dFwiKTtcclxuICAgIHRoaXMuX3N1Ym1pdEhhbmRsZXIgPSBzdWJtaXRIYW5kbGVyO1xyXG4gIH1cclxuXHJcbiAgZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICBjb25zdCBpbnB1dEZpZWxkcyA9IHt9O1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIGNvbnN0IGtleSA9IGlucHV0Lm5hbWU7XHJcbiAgICAgIGlucHV0RmllbGRzW2tleV0gPSBpbnB1dC52YWx1ZTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIGlucHV0RmllbGRzO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fZm9ybVBvcHVwRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiB7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdGhpcy5fc3VibWl0SGFuZGxlcigpO1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgc3VwZXIuY2xvc2UoKTtcclxuICAgIHRoaXMuX2Zvcm1Qb3B1cEVsZW1lbnQucmVzZXQoKTtcclxuICB9XHJcbn1cclxuIiwiY29uc3QgaW1hZ2VQb3B1cFNlbGVjdG9yID0gXCIjaW1hZ2VQb3BVcFwiO1xyXG5jb25zdCBnYWxsZXJ5U2VsZWN0b3IgPSBcIi5lbGVtZW50c19fbGlzdFwiO1xyXG5jb25zdCBuYW1lU2VsZWN0b3IgPSBcIi5wcm9maWxlX19uYW1lXCI7XHJcbmNvbnN0IHJvbGVTZWxlY3RvciA9IFwiLnByb2ZpbGVfX3JvbGVcIjtcclxuY29uc3QgY2FyZHNFbGVtZW50c0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGdhbGxlcnlTZWxlY3Rvcik7XHJcbmNvbnN0IHByb2ZpbGVFZGl0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19lZGl0LWJ0blwiKTtcclxuY29uc3QgcHJvZmlsZUFkZEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYWRkLWJ0blwiKTtcclxuY29uc3QgaW5wdXROYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNpbnB1dE5hbWVcIik7XHJcbmNvbnN0IGlucHV0Um9sZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjaW5wdXRSb2xlXCIpO1xyXG5jb25zdCB1c2VyTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobmFtZVNlbGVjdG9yKTtcclxuY29uc3QgdXNlclJvbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHJvbGVTZWxlY3Rvcik7XHJcbmNvbnN0IGxpa2VzTnVtSXRlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNfX2xpa2VzTnVtYmVyXCIpO1xyXG5jb25zdCBlZGl0UHJvZmlsZUltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19pbWFnZUNvbnRhaW5lclwiKTtcclxuY29uc3QgcHJvZmlsZUltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19pbWFnZVwiKTtcclxuXHJcbmNvbnN0IHNldHRpbmdzID0ge1xyXG4gIGlucHV0U2VsZWN0b3I6IFwiLnBvcHVwX19mb3JtLWlucHV0XCIsXHJcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLnBvcHVwX19mb3JtLXN1Ym1pdC1idG5cIixcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcInBvcHVwX19mb3JtLXN1Ym1pdC1idG5faW5hY3RpdmVcIixcclxuICBpbnB1dEVycm9yQ2xhc3M6IFwicG9wdXBfX2Zvcm0tZXJyb3JNc2dcIixcclxuICBlcnJvckNsYXNzOiBcInBvcHVwX19mb3JtLWVycm9yTXNnX2FjdGl2ZVwiLFxyXG4gIGZvcm1TZWxlY3RvcjogXCIucG9wdXBfX2Zvcm1cIixcclxufTtcclxuXHJcbmV4cG9ydCB7XHJcbiAgcm9sZVNlbGVjdG9yLFxyXG4gIG5hbWVTZWxlY3RvcixcclxuICBpbnB1dE5hbWUsXHJcbiAgaW5wdXRSb2xlLFxyXG4gIGxpa2VzTnVtSXRlbSxcclxuICBlZGl0UHJvZmlsZUltYWdlLFxyXG4gIHNldHRpbmdzLFxyXG4gIGdhbGxlcnlTZWxlY3RvcixcclxuICB1c2VyTmFtZSxcclxuICB1c2VyUm9sZSxcclxuICBwcm9maWxlSW1hZ2UsXHJcbiAgcHJvZmlsZUFkZEJ0bixcclxuICBwcm9maWxlRWRpdEJ0bixcclxuICBjYXJkc0VsZW1lbnRzTGlzdCxcclxuICBpbWFnZVBvcHVwU2VsZWN0b3IsXHJcbn07XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xyXG4gIGNvbnN0cnVjdG9yKHsgb3duZXJJZCwgdGV4dCwgaW1hZ2UsIGlkLCBsaWtlc051bSwgaGFuZGxlQ2FyZENsaWNrLCBvcGVuRGVsZXRlQ29uZmlybVBvcFVwLCBoYW5kbGVMaWtlTnVtYmVyfSwgdGVtcGxhdGVTZWxlY3RvciwgdXNlcklkKSB7XHJcbiAgICB0aGlzLl90ZXh0ID0gdGV4dDtcclxuICAgIHRoaXMuX2ltYWdlID0gaW1hZ2U7XHJcbiAgICB0aGlzLl9saWtlc051bSA9IGxpa2VzTnVtO1xyXG4gICAgdGhpcy5fdGVtcGxhdGVTZWxlY3RvciA9IHRlbXBsYXRlU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XHJcbiAgICB0aGlzLl9vcGVuRGVsZXRlQ29uZmlybVBvcFVwID0gb3BlbkRlbGV0ZUNvbmZpcm1Qb3BVcDtcclxuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xyXG4gICAgdGhpcy5faW1hZ2VJdGVtID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzX19pbWFnZVwiKTtcclxuICAgIHRoaXMuX3RleHRJdGVtID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzX190ZXh0XCIpO1xyXG4gICAgdGhpcy5fbGlrZUl0ZW0gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNfX2xpa2UtYnRuXCIpO1xyXG4gICAgdGhpcy5fZGVsZXRlSXRlbSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50c19fZGVsZXRlLWljb25cIik7XHJcbiAgICB0aGlzLl9saWtlTnVtYmVyID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzX19saWtlc051bWJlclwiKTtcclxuICAgIHRoaXMuX2lkID0gaWQ7XHJcbiAgICB0aGlzLl91c2VySWQgPSB1c2VySWQ7XHJcbiAgICB0aGlzLl9vd25lcklkID0gb3duZXJJZDtcclxuICAgIHRoaXMuX2hhbmRsZUxpa2VOdW1iZXIgPSBoYW5kbGVMaWtlTnVtYmVyO1xyXG4gIH1cclxuXHJcbiAgX2dldFRlbXBsYXRlKCkge1xyXG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSBkb2N1bWVudFxyXG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl90ZW1wbGF0ZVNlbGVjdG9yKVxyXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzX19lbGVtZW50XCIpXHJcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgICByZXR1cm4gY2FyZEVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBnZW5lcmF0ZUNhcmQoKSB7XHJcbiAgICB0aGlzLl9pbWFnZUl0ZW0uc3JjID0gdGhpcy5faW1hZ2U7XHJcbiAgICB0aGlzLl90ZXh0SXRlbS50ZXh0Q29udGVudCA9IHRoaXMuX3RleHQ7XHJcbiAgICB0aGlzLl9pbWFnZUl0ZW0uYWx0ID0gYHZpZXcgb2YgJHt0aGlzLl90ZXh0fWA7XHJcbiAgICB0aGlzLnNldExpa2VzTnVtKHRoaXMuX2xpa2VzTnVtKTtcclxuICAgIHRoaXMuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX3VzZXJJZCA9PT0gdGhpcy5fb3duZXJJZCA/IG51bGwgOiB0aGlzLl9kZWxldGVJdGVtLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsXCJkaXNwbGF5Om5vbmVcIik7IFxyXG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBzZXRMaWtlc051bShsaWtlc0NvdW50KXtcclxuICAgIHRoaXMuX2xpa2VOdW1iZXIudGV4dENvbnRlbnQgPSBsaWtlc0NvdW50O1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9pbWFnZUl0ZW0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLl9saWtlSXRlbS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9oYW5kbGVMaWtlVG9nZ2xlKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLl9kZWxldGVJdGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMub3BlbkRlbGV0ZUNvbmZpcm1Qb3BVcCgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBvcGVuRGVsZXRlQ29uZmlybVBvcFVwKCkge1xyXG4gICAgdGhpcy5fb3BlbkRlbGV0ZUNvbmZpcm1Qb3BVcCh0aGlzLl9pZCk7XHJcbiAgfVxyXG5cclxuICBkZWxldGVEb21DYXJkKCl7XHJcbiAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUxpa2VUb2dnbGUoKSB7XHJcbiAgICB0aGlzLl9saWtlSXRlbS5jbGFzc0xpc3QudG9nZ2xlKFwiZWxlbWVudHNfX3N2Zy1oZWFydF9saWtlZFwiKTtcclxuICAgIGNvbnN0IHVwZGF0ZUFjdGlvbiA9IHRoaXMuX2xpa2VJdGVtLmNsYXNzTGlzdC5jb250YWlucyhcImVsZW1lbnRzX19zdmctaGVhcnRfbGlrZWRcIikgP1xyXG4gICAgXCJhZGRMaWtlXCIgOiBcImRlbGV0ZUxpa2VcIjtcclxuICAgIHRoaXMuX2hhbmRsZUxpa2VOdW1iZXIodGhpcy5faWQsIHVwZGF0ZUFjdGlvbik7XHJcbiAgfVxyXG59XHJcblxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xyXG4gIGNvbnN0cnVjdG9yKHsgYmFzZVVybCwgaGVhZGVycyB9KSB7XHJcbiAgICB0aGlzLl9iYXNlVXJsID0gYmFzZVVybDtcclxuICAgIHRoaXMuX2hlYWRlcnMgPSBoZWFkZXJzO1xyXG4gIH1cclxuXHJcbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwgeyBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzIH0pXHJcbiAgICAgIC50aGVuKChyZXMpID0+IChyZXMub2sgPyByZXMuanNvbigpIDogUHJvbWlzZS5yZWplY3QocmVzLnN0YXR1c1RleHQpKSlcclxuICAgICAgLmNhdGNoKGNvbnNvbGUubG9nKTtcclxuICB9XHJcblxyXG4gIHBvc3ROZXdDYXJkKG5hbWUsbGluaykge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwgeyBcclxuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWUsXHJcbiAgICAgICAgbGluayxcclxuICAgICAgfSksXHJcbiAgICB9KVxyXG4gICAgICAudGhlbigocmVzKSA9PiAocmVzLm9rID8gcmVzLmpzb24oKSA6IFByb21pc2UucmVqZWN0KHJlcy5zdGF0dXNUZXh0KSkpXHJcbiAgICAgIC5jYXRjaChjb25zb2xlLmxvZyk7XHJcbiAgfVxyXG5cclxuICBjb25maXJtRGVsZXRlKGNhcmRJZCl7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9YCwgeyBcclxuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXHJcbiAgfSkudGhlbigocmVzKSA9PiAocmVzLm9rID8gcmVzLmpzb24oKSA6IFByb21pc2UucmVqZWN0KHJlcy5zdGF0dXNUZXh0KSkpXHJcbiAgLmNhdGNoKGNvbnNvbGUubG9nKTtcclxufVxyXG5cclxuZGVsZXRlTGlrZShjYXJkSWQpe1xyXG4gIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy9saWtlcy8ke2NhcmRJZH1gLCB7IFxyXG4gICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xyXG59KS50aGVuKChyZXMpID0+IChyZXMub2sgPyByZXMuanNvbigpIDogUHJvbWlzZS5yZWplY3QocmVzLnN0YXR1c1RleHQpKSlcclxuLmNhdGNoKGNvbnNvbGUubG9nKTtcclxufVxyXG5cclxuYWRkTGlrZShjYXJkSWQpe1xyXG4gIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy9saWtlcy8ke2NhcmRJZH1gLCB7IFxyXG4gICAgbWV0aG9kOiBcIlBVVFwiLFxyXG4gICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xyXG59KS50aGVuKChyZXMpID0+IChyZXMub2sgPyByZXMuanNvbigpIDogUHJvbWlzZS5yZWplY3QocmVzLnN0YXR1c1RleHQpKSlcclxuLmNhdGNoKGNvbnNvbGUubG9nKTtcclxufVxyXG5cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHsgaGVhZGVyczogdGhpcy5faGVhZGVycyB9KVxyXG4gICAgICAudGhlbigocmVzKSA9PiAocmVzLm9rID8gcmVzLmpzb24oKSA6IFByb21pc2UucmVqZWN0KHJlcy5zdGF0dXNUZXh0KSkpXHJcbiAgICAgIC5jYXRjaChjb25zb2xlLmxvZyk7XHJcbiAgfVxyXG5cclxuICBlZGl0VXNlckluZm8oe2Zvcm1fX25hbWUsIGZvcm1fX3JvbGV9KSB7XHJcbiAgICBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lOiBmb3JtX19uYW1lLFxyXG4gICAgICAgIGFib3V0OiBmb3JtX19yb2xlLFxyXG4gICAgICB9KSxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZWRpdEF2YXRhckltYWdlKGltYWdlTGluaykge1xyXG4gICAgZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIGF2YXRhcjogaW1hZ2VMaW5rXHJcbiAgICAgIH0pLFxyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgYXBpID0gbmV3IEFwaSh7XHJcbiAgYmFzZVVybDogXCJodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL2dyb3VwLTEyXCIsXHJcbiAgaGVhZGVyczoge1xyXG4gICAgYXV0aG9yaXphdGlvbjogXCJkMTE3Y2E0Yy0wMWVmLTRmMTktYWJlZS0zODdiNGUzMmU2OWRcIixcclxuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gIH0sXHJcbn0pO1xyXG4iLCJpbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xyXG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XHJcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhTdWJtaXQgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoU3VibWl0LmpzXCI7XHJcblxyXG5pbXBvcnQge1xyXG4gIHNldHRpbmdzLFxyXG4gIGVkaXRQcm9maWxlSW1hZ2UsXHJcbiAgbmFtZVNlbGVjdG9yLFxyXG4gIHJvbGVTZWxlY3RvcixcclxuICBwcm9maWxlQWRkQnRuLFxyXG4gIHByb2ZpbGVFZGl0QnRuLFxyXG4gIHByb2ZpbGVJbWFnZSxcclxuICBpbWFnZVBvcHVwU2VsZWN0b3IsXHJcbiAgZ2FsbGVyeVNlbGVjdG9yLFxyXG4gIHVzZXJOYW1lLFxyXG4gIHVzZXJSb2xlLFxyXG59IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcclxuXHJcbmltcG9ydCBDYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XHJcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcclxuaW1wb3J0IHsgYXBpIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpLmpzXCI7XHJcblxyXG5jb25zdCBnYWxsZXJ5ID0gbmV3IFNlY3Rpb24oXHJcbiAge1xyXG4gICAgZGF0YTogW10sXHJcbiAgICByZW5kZXJlcjogKGl0ZW0pID0+IHtcclxuICAgICAgZ2FsbGVyeS5hZGRJdGVtKGNhcmRSZW5kZXJlcihpdGVtKSk7XHJcbiAgICB9LFxyXG4gIH0sXHJcbiAgZ2FsbGVyeVNlbGVjdG9yXHJcbik7XHJcblxyXG5jb25zdCBhZGRQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiI2FkZEltYWdlXCIsIGhhbmRsZUNhcmRGb3JtU3VibWl0KTtcclxuY29uc3QgZWRpdFByb2ZpbGVJbWdQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiI2VkaXRQcm9maWxlSW1hZ2VcIiwgaGFuZGxlRWRpdFByb2ZpbGVJbWFnZSk7XHJcbmNvbnN0IGVkaXRQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiI2VkaXRQcm9maWxlXCIsIGhhbmRsZVByb2ZpbGVGb3JtU3VibWl0KTtcclxuY29uc3QgY29uZmlybURlbGV0ZVBvcFVwID0gbmV3IFBvcHVwV2l0aFN1Ym1pdChcIiNjb25maXJtRGVsZXRlXCIpO1xyXG5jb25zdCBpbWFnZVBvcHVwID0gbmV3IFBvcHVwV2l0aEltYWdlKGltYWdlUG9wdXBTZWxlY3Rvcik7XHJcbmNvbnN0IHByb2ZpbGVVc2VySW5mbyA9IG5ldyBVc2VySW5mbyh7IG5hbWVTZWxlY3Rvciwgcm9sZVNlbGVjdG9yIH0pO1xyXG5cclxuY29uc3QgZm9ybVZhbGlkYXRvcnMgPSB7fTtcclxuY29uc3QgZW5hYmxlVmFsaWRhdGlvbiA9IChzZXR0aW5ncykgPT4ge1xyXG4gIGNvbnN0IGZvcm1MaXN0ID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNldHRpbmdzLmZvcm1TZWxlY3RvcikpO1xyXG4gIGZvcm1MaXN0LmZvckVhY2goKGZvcm1FbGVtZW50KSA9PiB7XHJcbiAgICBjb25zdCB2YWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihzZXR0aW5ncywgZm9ybUVsZW1lbnQpO1xyXG4gICAgY29uc3QgZm9ybU5hbWUgPSBmb3JtRWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpO1xyXG4gICAgZm9ybVZhbGlkYXRvcnNbZm9ybU5hbWVdID0gdmFsaWRhdG9yO1xyXG4gICAgdmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuICB9KTtcclxufTtcclxuXHJcbmVuYWJsZVZhbGlkYXRpb24oc2V0dGluZ3MpO1xyXG5lZGl0UG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuYWRkUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuZWRpdFByb2ZpbGVJbWdQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5jb25maXJtRGVsZXRlUG9wVXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbmNvbnN0IGNhcmRSZW5kZXJlciA9IChpdGVtKSA9PiB7XHJcbiAgY29uc3Qgb3duZXJJZCA9IGl0ZW0ub3duZXJJZCA/IGl0ZW0ub3duZXJJZCA6IGl0ZW0ub3duZXIuX2lkO1xyXG4gIGNvbnN0IHRleHQgPSBpdGVtLm5hbWU7XHJcbiAgY29uc3QgaW1hZ2UgPSBpdGVtLmxpbms7XHJcbiAgbGV0IGxpa2VzTnVtID0gaXRlbS5saWtlcy5sZW5ndGg7XHJcbiAgY29uc3QgaWQgPSBpdGVtLl9pZDtcclxuICBcclxuICBjb25zdCBoYW5kbGVDYXJkQ2xpY2sgPSAoaW1hZ2VQb3B1cCkgPT4ge1xyXG4gICAgaW1hZ2VQb3B1cC5vcGVuKGltYWdlLCB0ZXh0KTtcclxuICB9O1xyXG5cclxuICBpbWFnZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKFxyXG4gICAge1xyXG4gICAgICBvd25lcklkLFxyXG4gICAgICB0ZXh0LFxyXG4gICAgICBpbWFnZSxcclxuICAgICAgaWQsXHJcbiAgICAgIGxpa2VzTnVtLFxyXG4gICAgICBoYW5kbGVDYXJkQ2xpY2s6ICgpID0+IHtcclxuICAgICAgICBoYW5kbGVDYXJkQ2xpY2soaW1hZ2VQb3B1cCk7XHJcbiAgICAgIH0sXHJcbiAgICAgIG9wZW5EZWxldGVDb25maXJtUG9wVXA6IChpZCkgPT4ge1xyXG4gICAgICAgIGNvbmZpcm1EZWxldGVQb3BVcC5vcGVuKCk7XHJcbiAgICAgICAgY29uZmlybURlbGV0ZVBvcFVwLmRlbGV0ZUFjdGlvbigoKSA9PiB7XHJcbiAgICAgICAgICBhcGkuY29uZmlybURlbGV0ZShpZCkudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgICAgIGNhcmQuZGVsZXRlRG9tQ2FyZCgpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0sXHJcbiAgICAgIGhhbmRsZUxpa2VOdW1iZXI6IChpZCwgdXBkYXRlQWN0aW9uKSA9PiB7XHJcbiAgICAgICAgaWYgKHVwZGF0ZUFjdGlvbiA9PT0gXCJhZGRMaWtlXCIpIHtcclxuICAgICAgICAgIGFwaS5hZGRMaWtlKGlkKS50aGVuKFxyXG4gICAgICAgICAgbGlrZXNOdW0gKz0gMSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGFwaS5kZWxldGVMaWtlKGlkKS50aGVuKHJlcyA9PiByZXMpO1xyXG4gICAgICAgICAgaWYgKGxpa2VzTnVtID4gMCkge1xyXG4gICAgICAgICAgICBsaWtlc051bSAtPSAxO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjYXJkLnNldExpa2VzTnVtKGxpa2VzTnVtKTtcclxuICAgICAgfSxcclxuICAgIH0sXHJcblxyXG4gICAgXCIjY2FyZC10ZW1wbGF0ZVwiLFxyXG4gICAgdXNlcklkXHJcbiAgKTtcclxuICBjb25zdCBjYXJkRWxlbWVudCA9IGNhcmQuZ2VuZXJhdGVDYXJkKCk7XHJcblxyXG4gIHJldHVybiBjYXJkRWxlbWVudDtcclxufTtcclxuXHJcbmxldCB1c2VySWQ7XHJcblByb21pc2UuYWxsKFthcGkuZ2V0VXNlckluZm8oKSwgYXBpLmdldEluaXRpYWxDYXJkcygpXSkudGhlbihcclxuICAoW3Jlc1VzZXIsIHJlc0NhcmRzXSkgPT4ge1xyXG4gICAgdXNlcklkID0gcmVzVXNlci5faWQ7XHJcbiAgICBjb25zdCBjYXJkcyA9IEFycmF5LmZyb20ocmVzQ2FyZHMpO1xyXG4gICAgY2FyZHMuZm9yRWFjaCgoY2FyZCkgPT4ge1xyXG4gICAgICBnYWxsZXJ5LmFkZEl0ZW0oY2FyZFJlbmRlcmVyKGNhcmQpKTtcclxuICAgIH0pO1xyXG4gICAgdXNlck5hbWUudGV4dENvbnRlbnQgPSByZXNVc2VyLm5hbWU7XHJcbiAgICB1c2VyUm9sZS50ZXh0Q29udGVudCA9IHJlc1VzZXIuYWJvdXQ7XHJcbiAgfVxyXG4pO1xyXG5cclxuZnVuY3Rpb24gaGFuZGxlUHJvZmlsZUZvcm1TdWJtaXQoKSB7XHJcbiAgY29uc3QgaW5wdXRGaWVsZHMgPSBlZGl0UG9wdXAuZ2V0SW5wdXRWYWx1ZXMoKTtcclxuICBwcm9maWxlVXNlckluZm8uc2V0VXNlckluZm8oaW5wdXRGaWVsZHMpO1xyXG4gIGFwaS5lZGl0VXNlckluZm8oaW5wdXRGaWVsZHMpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVDYXJkRm9ybVN1Ym1pdCgpIHtcclxuICBjb25zdCBpbnB1dEZpZWxkcyA9IGFkZFBvcHVwLmdldElucHV0VmFsdWVzKCk7XHJcbiAgY29uc3QgdGV4dCA9IGlucHV0RmllbGRzLmZvcm1fX3RpdGxlO1xyXG4gIGNvbnN0IGltYWdlID0gaW5wdXRGaWVsZHMuZm9ybV9faW1hZ2VMaW5rO1xyXG4gIGNvbnN0IGl0ZW0gPSB7fTtcclxuICBpdGVtLm5hbWUgPSB0ZXh0O1xyXG4gIGl0ZW0ubGluayA9IGltYWdlO1xyXG4gIGFwaS5wb3N0TmV3Q2FyZCh0ZXh0LCBpbWFnZSkudGhlbigocmVzKSA9PiB7XHJcbiAgICBpdGVtLm93bmVySWQgPSByZXMub3duZXIuX2lkO1xyXG4gICAgaXRlbS5faWQgPSByZXMuX2lkO1xyXG4gICAgaXRlbS5saWtlcyA9IHJlcy5saWtlcztcclxuICAgIGdhbGxlcnkuYWRkSXRlbShjYXJkUmVuZGVyZXIoaXRlbSkpO1xyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVFZGl0UHJvZmlsZUltYWdlKCl7XHJcbiAgY29uc3QgaW5wdXRMaW5rRmllbGQgPSBlZGl0UHJvZmlsZUltZ1BvcHVwLmdldElucHV0VmFsdWVzKCk7XHJcbiAgY29uc3QgbGluayA9IGlucHV0TGlua0ZpZWxkLmZvcm1fX2ltYWdlTGluaztcclxuICBhcGkuZWRpdEF2YXRhckltYWdlKGxpbmspO1xyXG4gIHByb2ZpbGVJbWFnZS5zcmMgPSBsaW5rO1xyXG59XHJcblxyXG5wcm9maWxlRWRpdEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIGNvbnN0IGN1cnJlbnRVc2VyUHJvZmlsZSA9IHByb2ZpbGVVc2VySW5mby5nZXRVc2VySW5mbygpO1xyXG4gIGlucHV0TmFtZS5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCBjdXJyZW50VXNlclByb2ZpbGUubmFtZSk7XHJcbiAgaW5wdXRSb2xlLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIGN1cnJlbnRVc2VyUHJvZmlsZS5yb2xlKTtcclxuICBmb3JtVmFsaWRhdG9yc1tcImVkaXRfX2Zvcm1cIl0ucmVzZXRWYWxpZGF0aW9uKCk7XHJcbiAgZWRpdFBvcHVwLm9wZW4oKTtcclxufSk7XHJcblxyXG5wcm9maWxlQWRkQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgZm9ybVZhbGlkYXRvcnNbXCJhZGRfX2Zvcm1cIl0ucmVzZXRWYWxpZGF0aW9uKCk7XHJcbiAgYWRkUG9wdXAub3BlbigpO1xyXG59KTtcclxuXHJcbmVkaXRQcm9maWxlSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBmb3JtVmFsaWRhdG9yc1tcImVkaXRQcm9maWxlSW1hZ2VfX2Zvcm1cIl0ucmVzZXRWYWxpZGF0aW9uKCk7XHJcbiAgZWRpdFByb2ZpbGVJbWdQb3B1cC5vcGVuKCk7XHJcbn0pIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XHJcbiAgY29uc3RydWN0b3IoeyBkYXRhLCByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9pdGVtcyA9IGRhdGE7XHJcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyOyBcclxuICB9XHJcbiAgICBcclxuICByZW5kZXJlcigpIHtcclxuICAgIHRoaXMuX2l0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGFkZEl0ZW0oaXRlbSkge1xyXG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoaXRlbSk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoU3VibWl0IGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fZm9ybVBvcHVwRWxlbWVudCA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtXCIpO1xyXG4gIH1cclxuXHJcbiAgZGVsZXRlQWN0aW9uKGFjdGlvbil7XHJcbiAgICB0aGlzLl9zdWJtaXRIYW5kbGVyID0gYWN0aW9uO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fZm9ybVBvcHVwRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiB7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdGhpcy5fc3VibWl0SGFuZGxlcigpO1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgc3VwZXIuY2xvc2UoKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3RvcihpbWFnZVBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHN1cGVyKGltYWdlUG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9pbWFnZUZpbGUgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW1hZ2VQb3BVcFwiKTtcclxuICAgIHRoaXMuX2ltYWdlVGV4dCA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBcIi5wb3B1cF9faW1hZ2VQb3BVcC10ZXh0XCJcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBvcGVuID0gKGltYWdlLCB0ZXh0KSA9PiB7XHJcbiAgICB0aGlzLl9pbWFnZUZpbGUuc3JjID0gaW1hZ2U7XHJcbiAgICB0aGlzLl9pbWFnZVRleHQudGV4dENvbnRlbnQgPSB0ZXh0O1xyXG4gICAgdGhpcy5faW1hZ2VGaWxlLmFsdCA9IGB2aWV3IG9mICR7dGV4dH1gO1xyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gIH07XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xyXG4gIGNvbnN0cnVjdG9yKHsgbmFtZVNlbGVjdG9yLCByb2xlU2VsZWN0b3IgfSkge1xyXG4gICAgdGhpcy5fbmFtZVNlbGVjdG9yID0gbmFtZVNlbGVjdG9yO1xyXG4gICAgdGhpcy5fcm9sZVNlbGVjdG9yID0gcm9sZVNlbGVjdG9yO1xyXG4gICAgdGhpcy5fcHJvZmlsZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX25hbWVTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9wcm9maWxlUm9sZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fcm9sZVNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgY29uc3QgdXNlckRhdGEgPSB7fTtcclxuICAgIHVzZXJEYXRhLm5hbWUgPSB0aGlzLl9wcm9maWxlTmFtZS50ZXh0Q29udGVudDtcclxuICAgIHVzZXJEYXRhLnJvbGUgPSB0aGlzLl9wcm9maWxlUm9sZS50ZXh0Q29udGVudDtcclxuICAgIHJldHVybiB1c2VyRGF0YTtcclxuICB9XHJcblxyXG4gIHNldFVzZXJJbmZvKGRhdGEpIHtcclxuICAgIHRoaXMuX3Byb2ZpbGVOYW1lLnRleHRDb250ZW50ID0gZGF0YS5mb3JtX19uYW1lO1xyXG4gICAgdGhpcy5fcHJvZmlsZVJvbGUudGV4dENvbnRlbnQgPSBkYXRhLmZvcm1fX3JvbGU7XHJcbiAgfVxyXG59XHJcblxyXG5cclxuIl0sIm5hbWVzIjpbIkZvcm1WYWxpZGF0b3IiLCJjb25zdHJ1Y3RvciIsInNldHRpbmdzIiwiZm9ybUVsZW1lbnQiLCJpbnB1dExpc3QiLCJzb21lIiwiaW5wdXRFbGVtZW50IiwidmFsaWRpdHkiLCJ2YWxpZCIsInRoaXMiLCJfaGFzSW52YWxpZElucHV0IiwiX2lucHV0TGlzdCIsIl9idXR0b25FbGVtZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJzZXRBdHRyaWJ1dGUiLCJyZW1vdmUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJfaW5wdXRTZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJfc3VibWl0QnV0dG9uU2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJfaW5wdXRFcnJvckNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiX2Vycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiX2Zvcm1FbGVtZW50IiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsInF1ZXJ5U2VsZWN0b3IiLCJfc2hvd0lucHV0RXJyb3IiLCJlcnJvck1lc3NhZ2UiLCJlcnJvckVsZW1lbnQiLCJpZCIsInRleHRDb250ZW50IiwiX2hpZGVJbnB1dEVycm9yIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsInZhbGlkYXRpb25NZXNzYWdlIiwiX3NldElucHV0c0V2ZW50TGlzdGVuZXJzIiwiZm9yRWFjaCIsImFkZEV2ZW50TGlzdGVuZXIiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJyZXNldFZhbGlkYXRpb24iLCJlbmFibGVWYWxpZGF0aW9uIiwiZXZ0IiwicHJldmVudERlZmF1bHQiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJrZXkiLCJjbG9zZSIsIl9wb3B1cEVsZW1lbnQiLCJkb2N1bWVudCIsIm9wZW4iLCJfaGFuZGxlRXNjQ2xvc2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJlIiwidGFyZ2V0IiwiY29udGFpbnMiLCJQb3B1cFdpdGhGb3JtIiwic3VibWl0SGFuZGxlciIsInN1cGVyIiwiX2Zvcm1Qb3B1cEVsZW1lbnQiLCJfc3VibWl0SGFuZGxlciIsImdldElucHV0VmFsdWVzIiwiaW5wdXRGaWVsZHMiLCJpbnB1dCIsIm5hbWUiLCJ2YWx1ZSIsInJlc2V0IiwiZ2FsbGVyeVNlbGVjdG9yIiwibmFtZVNlbGVjdG9yIiwicm9sZVNlbGVjdG9yIiwicHJvZmlsZUVkaXRCdG4iLCJwcm9maWxlQWRkQnRuIiwidXNlck5hbWUiLCJ1c2VyUm9sZSIsImVkaXRQcm9maWxlSW1hZ2UiLCJwcm9maWxlSW1hZ2UiLCJDYXJkIiwidGVtcGxhdGVTZWxlY3RvciIsInVzZXJJZCIsIm93bmVySWQiLCJ0ZXh0IiwiaW1hZ2UiLCJsaWtlc051bSIsImhhbmRsZUNhcmRDbGljayIsIm9wZW5EZWxldGVDb25maXJtUG9wVXAiLCJoYW5kbGVMaWtlTnVtYmVyIiwiX3RleHQiLCJfaW1hZ2UiLCJfbGlrZXNOdW0iLCJfdGVtcGxhdGVTZWxlY3RvciIsIl9oYW5kbGVDYXJkQ2xpY2siLCJfb3BlbkRlbGV0ZUNvbmZpcm1Qb3BVcCIsIl9lbGVtZW50IiwiX2dldFRlbXBsYXRlIiwiX2ltYWdlSXRlbSIsIl90ZXh0SXRlbSIsIl9saWtlSXRlbSIsIl9kZWxldGVJdGVtIiwiX2xpa2VOdW1iZXIiLCJfaWQiLCJfdXNlcklkIiwiX293bmVySWQiLCJfaGFuZGxlTGlrZU51bWJlciIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJnZW5lcmF0ZUNhcmQiLCJzcmMiLCJhbHQiLCJzZXRMaWtlc051bSIsImxpa2VzQ291bnQiLCJfaGFuZGxlTGlrZVRvZ2dsZSIsImRlbGV0ZURvbUNhcmQiLCJ0b2dnbGUiLCJ1cGRhdGVBY3Rpb24iLCJhcGkiLCJiYXNlVXJsIiwiaGVhZGVycyIsIl9iYXNlVXJsIiwiX2hlYWRlcnMiLCJnZXRJbml0aWFsQ2FyZHMiLCJmZXRjaCIsInRoZW4iLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzVGV4dCIsImNhdGNoIiwiY29uc29sZSIsImxvZyIsInBvc3ROZXdDYXJkIiwibGluayIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiY29uZmlybURlbGV0ZSIsImNhcmRJZCIsImRlbGV0ZUxpa2UiLCJhZGRMaWtlIiwiZ2V0VXNlckluZm8iLCJlZGl0VXNlckluZm8iLCJmb3JtX19uYW1lIiwiZm9ybV9fcm9sZSIsImFib3V0IiwiZWRpdEF2YXRhckltYWdlIiwiaW1hZ2VMaW5rIiwiYXZhdGFyIiwiYXV0aG9yaXphdGlvbiIsImdhbGxlcnkiLCJjb250YWluZXJTZWxlY3RvciIsImRhdGEiLCJyZW5kZXJlciIsIl9jb250YWluZXIiLCJfaXRlbXMiLCJfcmVuZGVyZXIiLCJpdGVtIiwiYWRkSXRlbSIsInByZXBlbmQiLCJjYXJkUmVuZGVyZXIiLCJhZGRQb3B1cCIsImZvcm1fX3RpdGxlIiwiZm9ybV9faW1hZ2VMaW5rIiwib3duZXIiLCJsaWtlcyIsImVkaXRQcm9maWxlSW1nUG9wdXAiLCJlZGl0UG9wdXAiLCJwcm9maWxlVXNlckluZm8iLCJzZXRVc2VySW5mbyIsImNvbmZpcm1EZWxldGVQb3BVcCIsImRlbGV0ZUFjdGlvbiIsImFjdGlvbiIsImltYWdlUG9wdXAiLCJpbWFnZVBvcHVwU2VsZWN0b3IiLCJfaW1hZ2VGaWxlIiwiX2ltYWdlVGV4dCIsIl9uYW1lU2VsZWN0b3IiLCJfcm9sZVNlbGVjdG9yIiwiX3Byb2ZpbGVOYW1lIiwiX3Byb2ZpbGVSb2xlIiwidXNlckRhdGEiLCJyb2xlIiwiZm9ybVZhbGlkYXRvcnMiLCJmb3JtU2VsZWN0b3IiLCJ2YWxpZGF0b3IiLCJmb3JtTmFtZSIsImdldEF0dHJpYnV0ZSIsImxlbmd0aCIsImNhcmQiLCJhbGwiLCJyZXNVc2VyIiwicmVzQ2FyZHMiLCJjdXJyZW50VXNlclByb2ZpbGUiLCJpbnB1dE5hbWUiLCJpbnB1dFJvbGUiXSwic291cmNlUm9vdCI6IiJ9