!function(){"use strict";function e(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class t{constructor(t,s){e(this,"_hasInvalidInput",(e=>e.some((e=>!e.validity.valid)))),e(this,"_toggleButtonState",(()=>{this._hasInvalidInput(this._inputList)?(this._buttonElement.classList.add(this._inactiveButtonClass),this._buttonElement.setAttribute("disabled",!0)):(this._buttonElement.classList.remove(this._inactiveButtonClass),this._buttonElement.removeAttribute("disabled"))})),this._inputSelector=t.inputSelector,this._submitButtonSelector=t.submitButtonSelector,this._inactiveButtonClass=t.inactiveButtonClass,this._inputErrorClass=t.inputErrorClass,this._errorClass=t.errorClass,this._formElement=s,this._inputList=Array.from(this._formElement.querySelectorAll(this._inputSelector)),this._buttonElement=this._formElement.querySelector(this._submitButtonSelector)}_showInputError(e,t){const s=this._formElement.querySelector("#".concat(e.id,"-error"));s.textContent=t,s.classList.add(this._errorClass)}_hideInputError(e){const t=this._formElement.querySelector("#".concat(e.id,"-error"));t.classList.remove(this._errorClass),t.textContent=""}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}_setInputsEventListeners(){this._inputList.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButtonState()}))}))}resetValidation(){this._inputList.forEach((e=>{this._hideInputError(e)})),this._toggleButtonState()}enableValidation(){this._formElement.addEventListener("submit",(e=>{e.preventDefault()})),this._setInputsEventListeners()}}class s{constructor(e){var t,s;s=e=>{"Escape"===e.key&&this.close()},(t="_handleEscClose")in this?Object.defineProperty(this,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):this[t]=s,this._popupElement=document.querySelector(e)}open(){this._popupElement.classList.add("popup_active"),document.addEventListener("keydown",this._handleEscClose)}close(){this._popupElement.classList.remove("popup_active"),document.removeEventListener("keydown",this._handleEscClose)}setEventListeners(){this._popupElement.addEventListener("mousedown",(e=>{(e.target.classList.contains("popup_active")||e.target.classList.contains("popup__exit-icon"))&&this.close()}))}}class i extends s{constructor(e,t){super(e),this._formPopupElement=this._popupElement.querySelector(".popup__form"),this._submitBtn=this._formPopupElement.querySelector(".popup__form-submit-btn"),this._inputList=this._formPopupElement.querySelectorAll(".popup__form-input"),this._submitHandler=t}getInputValues(){const e={};return this._inputList.forEach((t=>{const s=t.name;e[s]=t.value})),e}setEventListeners(){super.setEventListeners(),this._formPopupElement.addEventListener("submit",(e=>{e.preventDefault();const t=this._submitBtn.textContent;this._submitBtn.diabled=!0,this._submitBtn.textContent="Saving...",setTimeout((()=>{this._submitHandler(),this.close(),this._submitBtn.textContent=t}),1300)}))}close(){super.close(),this._formPopupElement.reset()}}const r=".elements__list",n=".profile__name",o=".profile__role",l=(document.querySelector(r),document.querySelector(".profile__edit-btn")),a=document.querySelector(".profile__add-btn"),c=document.querySelector("#inputName"),_=document.querySelector("#inputRole"),h=document.querySelector(n),m=document.querySelector(o),u=(document.querySelector(".elements__likesNumber"),document.querySelector(".profile__imageContainer")),d=document.querySelector(".profile__image");class p{constructor(e,t,s){let{ownerId:i,text:r,image:n,id:o,likesNum:l,handleCardClick:a,openDeleteConfirmPopUp:c,handleLikeNumber:_}=e;this._text=r,this._image=n,this._likesNum=l,this._templateSelector=t,this._handleCardClick=a,this._openDeleteConfirmPopUp=c,this._element=this._getTemplate(),this._imageItem=this._element.querySelector(".elements__image"),this._textItem=this._element.querySelector(".elements__text"),this._likeItem=this._element.querySelector(".elements__like-btn"),this._deleteItem=this._element.querySelector(".elements__delete-icon"),this._likeNumber=this._element.querySelector(".elements__likesNumber"),this._id=o,this._userId=s,this._ownerId=i,this._handleLikeNumber=_}_getTemplate(){return document.querySelector(this._templateSelector).content.querySelector(".elements__element").cloneNode(!0)}generateCard(){return this._imageItem.src=this._image,this._textItem.textContent=this._text,this._imageItem.alt="view of ".concat(this._text),this.setLikesNum(this._likesNum),this.setEventListeners(),this._userId!==this._ownerId&&this._deleteItem.setAttribute("style","display:none"),this._element}setLikesNum(e){this._likeNumber.textContent=e}setEventListeners(){this._imageItem.addEventListener("click",(()=>{this._handleCardClick()})),this._likeItem.addEventListener("click",(()=>{this._handleLikeToggle()})),this._deleteItem.addEventListener("click",(()=>{this.openDeleteConfirmPopUp()}))}openDeleteConfirmPopUp(){this._openDeleteConfirmPopUp(this._id)}deleteDomCard(){this._element.remove()}_handleLikeToggle(){this._likeItem.classList.toggle("elements__svg-heart_liked");const e=this._likeItem.classList.contains("elements__svg-heart_liked")?"addLike":"deleteLike";this._handleLikeNumber(this._id,e)}}const f=new class{constructor(e){let{baseUrl:t,headers:s}=e;this._baseUrl=t,this._headers=s}getInitialCards(){return fetch("".concat(this._baseUrl,"/cards"),{headers:this._headers}).then((e=>e.ok?e.json():Promise.reject(e.statusText))).catch(console.log)}postNewCard(e,t){return fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:e,link:t})}).then((e=>e.ok?e.json():Promise.reject(e.statusText))).catch(console.log)}confirmDelete(e){return fetch("".concat(this._baseUrl,"/cards/").concat(e),{method:"DELETE",headers:this._headers}).then((e=>e.ok?e.json():Promise.reject(e.statusText))).catch(console.log)}deleteLike(e){return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:"DELETE",headers:this._headers}).then((e=>e.ok?e.json():Promise.reject(e.statusText))).catch(console.log)}addLike(e){return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:"PUT",headers:this._headers}).then((e=>e.ok?e.json():Promise.reject(e.statusText))).catch(console.log)}getUserInfo(){return fetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers}).then((e=>e.ok?e.json():Promise.reject(e.statusText))).catch(console.log)}editUserInfo(e){let{form__name:t,form__role:s}=e;fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:t,about:s})})}editAvatarImage(e){fetch("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})})}}({baseUrl:"https://around.nomoreparties.co/v1/group-12",headers:{authorization:"d117ca4c-01ef-4f19-abee-387b4e32e69d","Content-Type":"application/json"}}),b=new class{constructor(e,t){let{data:s,renderer:i}=e;this._container=document.querySelector(t),this._items=s,this._renderer=i}renderer(){this._items.forEach((e=>{this._renderer(e)}))}addItem(e){this._container.prepend(e)}}({data:[],renderer:e=>{b.addItem(y(e))}},r),E=new i("#addImage",(function(){const e=E.getInputValues(),t=e.form__title,s=e.form__imageLink,i={};i.name=t,i.link=s,f.postNewCard(t,s).then((e=>{i.ownerId=e.owner._id,i._id=e._id,i.likes=e.likes,b.addItem(y(i))}))})),g=new i("#editProfileImage",(function(){const e=g.getInputValues().form__imageLink;f.editAvatarImage(e),d.src=e})),v=new i("#editProfile",(function(){const e=v.getInputValues();S.setUserInfo(e),f.editUserInfo(e)})),L=new class extends s{constructor(e){super(e),this._formPopupElement=this._popupElement.querySelector(".popup__form")}deleteAction(e){this._submitHandler=e}setEventListeners(){super.setEventListeners(),this._formPopupElement.addEventListener("submit",(e=>{e.preventDefault(),this._submitHandler(),this.close()}))}close(){super.close()}}("#confirmDelete"),k=new class extends s{constructor(e){var t,s;super(e),s=(e,t)=>{this._imageFile.src=e,this._imageText.textContent=t,this._imageFile.alt="view of ".concat(t),super.open()},(t="open")in this?Object.defineProperty(this,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):this.open=s,this._imageFile=this._popupElement.querySelector(".popup__imagePopUp"),this._imageText=this._popupElement.querySelector(".popup__imagePopUp-text")}}("#imagePopUp"),S=new class{constructor(e){let{nameSelector:t,roleSelector:s}=e;this._nameSelector=t,this._roleSelector=s,this._profileName=document.querySelector(this._nameSelector),this._profileRole=document.querySelector(this._roleSelector)}getUserInfo(){const e={};return e.name=this._profileName.textContent,e.role=this._profileRole.textContent,e}setUserInfo(e){this._profileName.textContent=e.form__name,this._profileRole.textContent=e.form__role}}({nameSelector:n,roleSelector:o}),I={};var C;C={inputSelector:".popup__form-input",submitButtonSelector:".popup__form-submit-btn",inactiveButtonClass:"popup__form-submit-btn_inactive",inputErrorClass:"popup__form-errorMsg",errorClass:"popup__form-errorMsg_active",formSelector:".popup__form"},Array.from(document.querySelectorAll(C.formSelector)).forEach((e=>{const s=new t(C,e),i=e.getAttribute("name");I[i]=s,s.enableValidation()})),v.setEventListeners(),E.setEventListeners(),g.setEventListeners(),L.setEventListeners();const y=e=>{const t=e.ownerId?e.ownerId:e.owner._id,s=e.name,i=e.link;let r=e.likes.length;const n=e._id;k.setEventListeners();const o=new p({ownerId:t,text:s,image:i,id:n,likesNum:r,handleCardClick:()=>{(e=>{e.open(i,s)})(k)},openDeleteConfirmPopUp:e=>{L.open(),L.deleteAction((()=>{f.confirmDelete(e).then((e=>{o.deleteDomCard()}))}))},handleLikeNumber:(e,t)=>{"addLike"===t?f.addLike(e).then(r+=1):(f.deleteLike(e).then((e=>e)),r>0&&(r-=1)),o.setLikesNum(r)}},"#card-template",x);return o.generateCard()};let x;Promise.all([f.getUserInfo(),f.getInitialCards()]).then((e=>{let[t,s]=e;x=t._id,Array.from(s).forEach((e=>{b.addItem(y(e))})),h.textContent=t.name,m.textContent=t.about})),l.addEventListener("click",(()=>{f.getUserInfo().then((e=>{c.setAttribute("value",e.name),_.setAttribute("value",e.about)})),I.edit__form.resetValidation(),v.open()})),a.addEventListener("click",(()=>{I.add__form.resetValidation(),E.open()})),u.addEventListener("click",(()=>{I.editProfileImage__form.resetValidation(),g.open()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFRQSxJQUM3QnhDLEVBQVcsSUFDYkEsR0FBWSxJQUdoQjJHLEVBQUtqRixZQUFZMUIsS0FJckIsaUJBQ0FKLEdBSUYsT0FGb0IrRyxFQUFLcEYsZ0JBSzNCLElBQUkzQixFQUNKK0MsUUFBUWlFLElBQUksQ0FBQzVFLEVBQUkyQixjQUFlM0IsRUFBSUssb0JBQW9CRSxNQUN0RCxJQUF5QixJQUF2QnNFLEVBQVNDLEdBQWMsRUFDdkJsSCxFQUFTaUgsRUFBUTVGLElBQ0hsRixNQUFNQyxLQUFLOEssR0FDbkJsSyxTQUFTK0osSUFDYnZDLEVBQVFRLFFBQVFFLEVBQWE2QixPQUUvQnJILEVBQVMvQyxZQUFjc0ssRUFBUXBJLEtBQy9CYyxFQUFTaEQsWUFBY3NLLEVBQVE5QyxTQWdDbkM3RSxFQUFlckMsaUJBQWlCLFNBQVMsS0FFdkNtRixFQUFJMkIsY0FBY3BCLE1BQU1DLElBQ3RCcEQsRUFBVWxFLGFBQWEsUUFBU3NILEVBQUkvRCxNQUNwQ1ksRUFBVW5FLGFBQWEsUUFBU3NILEVBQUl1QixVQUV0Q3NDLEVBQWMsV0FBZXRKLGtCQUM3QnNJLEVBQVU1SCxVQUdaMEIsRUFBY3RDLGlCQUFpQixTQUFTLEtBQ3RDd0osRUFBYyxVQUFjdEosa0JBQzVCZ0ksRUFBU3RILFVBR1grQixFQUFpQjNDLGlCQUFpQixTQUFTLEtBQ3pDd0osRUFBYyx1QkFBMkJ0SixrQkFDekNxSSxFQUFvQjNILFUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL3BhZ2UvaW5kZXguanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aFN1Ym1pdC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gIGNvbnN0cnVjdG9yKHNldHRpbmdzLCBmb3JtRWxlbWVudCkge1xyXG4gICAgdGhpcy5faW5wdXRTZWxlY3RvciA9IHNldHRpbmdzLmlucHV0U2VsZWN0b3I7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IHNldHRpbmdzLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xyXG4gICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9IHNldHRpbmdzLmluYWN0aXZlQnV0dG9uQ2xhc3M7XHJcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBzZXR0aW5ncy5pbnB1dEVycm9yQ2xhc3M7XHJcbiAgICB0aGlzLl9lcnJvckNsYXNzID0gc2V0dGluZ3MuZXJyb3JDbGFzcztcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKFxyXG4gICAgICB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpXHJcbiAgICApO1xyXG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgZXJyb3JNZXNzYWdlKSB7XHJcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcclxuICAgICk7XHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBlcnJvck1lc3NhZ2U7XHJcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9lcnJvckNsYXNzKTtcclxuICB9XHJcblxyXG4gIF9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIGAjJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxyXG4gICAgKTtcclxuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcclxuICB9XHJcblxyXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KSB7XHJcbiAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX2hhc0ludmFsaWRJbnB1dCA9IChpbnB1dExpc3QpID0+IHtcclxuICAgIHJldHVybiBpbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgX3RvZ2dsZUJ1dHRvblN0YXRlID0gKCkgPT4ge1xyXG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCh0aGlzLl9pbnB1dExpc3QpKSB7XHJcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLCB0cnVlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBfc2V0SW5wdXRzRXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xyXG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICByZXNldFZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgfVxyXG5cclxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLl9zZXRJbnB1dHNFdmVudExpc3RlbmVycygpO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIG9wZW4oKSB7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInBvcHVwX2FjdGl2ZVwiKTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9hY3RpdmVcIik7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlRXNjQ2xvc2UgPSAoZXZ0KSA9PiB7XHJcbiAgICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCAoZSkgPT4ge1xyXG4gICAgICBpZiAoXHJcbiAgICAgICAgZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwicG9wdXBfYWN0aXZlXCIpIHx8XHJcbiAgICAgICAgZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwicG9wdXBfX2V4aXQtaWNvblwiKVxyXG4gICAgICApIHtcclxuICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvciwgc3VibWl0SGFuZGxlcikge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9mb3JtUG9wdXBFbGVtZW50ID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm1cIik7XHJcbiAgICB0aGlzLl9zdWJtaXRCdG4gPSB0aGlzLl9mb3JtUG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIFwiLnBvcHVwX19mb3JtLXN1Ym1pdC1idG5cIlxyXG4gICAgKTtcclxuICAgIHRoaXMuX2lucHV0TGlzdCA9XHJcbiAgICAgIHRoaXMuX2Zvcm1Qb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cF9fZm9ybS1pbnB1dFwiKTtcclxuICAgIHRoaXMuX3N1Ym1pdEhhbmRsZXIgPSBzdWJtaXRIYW5kbGVyO1xyXG4gIH1cclxuXHJcbiAgZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICBjb25zdCBpbnB1dEZpZWxkcyA9IHt9O1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIGNvbnN0IGtleSA9IGlucHV0Lm5hbWU7XHJcbiAgICAgIGlucHV0RmllbGRzW2tleV0gPSBpbnB1dC52YWx1ZTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIGlucHV0RmllbGRzO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fZm9ybVBvcHVwRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiB7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgY29uc3QgcHJldlRleHQgPSB0aGlzLl9zdWJtaXRCdG4udGV4dENvbnRlbnQ7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ0bi5kaWFibGVkID0gdHJ1ZTtcclxuICAgICAgdGhpcy5fc3VibWl0QnRuLnRleHRDb250ZW50ID0gXCJTYXZpbmcuLi5cIjtcclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fc3VibWl0SGFuZGxlcigpO1xyXG4gICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgICB0aGlzLl9zdWJtaXRCdG4udGV4dENvbnRlbnQgPSBwcmV2VGV4dDtcclxuICAgICAgfSwgMTMwMCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgc3VwZXIuY2xvc2UoKTtcclxuICAgIHRoaXMuX2Zvcm1Qb3B1cEVsZW1lbnQucmVzZXQoKTtcclxuICB9XHJcbn1cclxuIiwiY29uc3QgaW1hZ2VQb3B1cFNlbGVjdG9yID0gXCIjaW1hZ2VQb3BVcFwiO1xyXG5jb25zdCBnYWxsZXJ5U2VsZWN0b3IgPSBcIi5lbGVtZW50c19fbGlzdFwiO1xyXG5jb25zdCBuYW1lU2VsZWN0b3IgPSBcIi5wcm9maWxlX19uYW1lXCI7XHJcbmNvbnN0IHJvbGVTZWxlY3RvciA9IFwiLnByb2ZpbGVfX3JvbGVcIjtcclxuY29uc3QgY2FyZHNFbGVtZW50c0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGdhbGxlcnlTZWxlY3Rvcik7XHJcbmNvbnN0IHByb2ZpbGVFZGl0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19lZGl0LWJ0blwiKTtcclxuY29uc3QgcHJvZmlsZUFkZEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYWRkLWJ0blwiKTtcclxuY29uc3QgaW5wdXROYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNpbnB1dE5hbWVcIik7XHJcbmNvbnN0IGlucHV0Um9sZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjaW5wdXRSb2xlXCIpO1xyXG5jb25zdCB1c2VyTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobmFtZVNlbGVjdG9yKTtcclxuY29uc3QgdXNlclJvbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHJvbGVTZWxlY3Rvcik7XHJcbmNvbnN0IGxpa2VzTnVtSXRlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNfX2xpa2VzTnVtYmVyXCIpO1xyXG5jb25zdCBlZGl0UHJvZmlsZUltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19pbWFnZUNvbnRhaW5lclwiKTtcclxuY29uc3QgcHJvZmlsZUltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19pbWFnZVwiKTtcclxuXHJcbmNvbnN0IHNldHRpbmdzID0ge1xyXG4gIGlucHV0U2VsZWN0b3I6IFwiLnBvcHVwX19mb3JtLWlucHV0XCIsXHJcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLnBvcHVwX19mb3JtLXN1Ym1pdC1idG5cIixcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcInBvcHVwX19mb3JtLXN1Ym1pdC1idG5faW5hY3RpdmVcIixcclxuICBpbnB1dEVycm9yQ2xhc3M6IFwicG9wdXBfX2Zvcm0tZXJyb3JNc2dcIixcclxuICBlcnJvckNsYXNzOiBcInBvcHVwX19mb3JtLWVycm9yTXNnX2FjdGl2ZVwiLFxyXG4gIGZvcm1TZWxlY3RvcjogXCIucG9wdXBfX2Zvcm1cIixcclxufTtcclxuXHJcbmV4cG9ydCB7XHJcbiAgcm9sZVNlbGVjdG9yLFxyXG4gIG5hbWVTZWxlY3RvcixcclxuICBpbnB1dE5hbWUsXHJcbiAgaW5wdXRSb2xlLFxyXG4gIGxpa2VzTnVtSXRlbSxcclxuICBlZGl0UHJvZmlsZUltYWdlLFxyXG4gIHNldHRpbmdzLFxyXG4gIGdhbGxlcnlTZWxlY3RvcixcclxuICB1c2VyTmFtZSxcclxuICB1c2VyUm9sZSxcclxuICBwcm9maWxlSW1hZ2UsXHJcbiAgcHJvZmlsZUFkZEJ0bixcclxuICBwcm9maWxlRWRpdEJ0bixcclxuICBjYXJkc0VsZW1lbnRzTGlzdCxcclxuICBpbWFnZVBvcHVwU2VsZWN0b3IsXHJcbn07XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xyXG4gIGNvbnN0cnVjdG9yKHsgb3duZXJJZCwgdGV4dCwgaW1hZ2UsIGlkLCBsaWtlc051bSwgaGFuZGxlQ2FyZENsaWNrLCBvcGVuRGVsZXRlQ29uZmlybVBvcFVwLCBoYW5kbGVMaWtlTnVtYmVyfSwgdGVtcGxhdGVTZWxlY3RvciwgdXNlcklkKSB7XHJcbiAgICB0aGlzLl90ZXh0ID0gdGV4dDtcclxuICAgIHRoaXMuX2ltYWdlID0gaW1hZ2U7XHJcbiAgICB0aGlzLl9saWtlc051bSA9IGxpa2VzTnVtO1xyXG4gICAgdGhpcy5fdGVtcGxhdGVTZWxlY3RvciA9IHRlbXBsYXRlU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XHJcbiAgICB0aGlzLl9vcGVuRGVsZXRlQ29uZmlybVBvcFVwID0gb3BlbkRlbGV0ZUNvbmZpcm1Qb3BVcDtcclxuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xyXG4gICAgdGhpcy5faW1hZ2VJdGVtID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzX19pbWFnZVwiKTtcclxuICAgIHRoaXMuX3RleHRJdGVtID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzX190ZXh0XCIpO1xyXG4gICAgdGhpcy5fbGlrZUl0ZW0gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNfX2xpa2UtYnRuXCIpO1xyXG4gICAgdGhpcy5fZGVsZXRlSXRlbSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50c19fZGVsZXRlLWljb25cIik7XHJcbiAgICB0aGlzLl9saWtlTnVtYmVyID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzX19saWtlc051bWJlclwiKTtcclxuICAgIHRoaXMuX2lkID0gaWQ7XHJcbiAgICB0aGlzLl91c2VySWQgPSB1c2VySWQ7XHJcbiAgICB0aGlzLl9vd25lcklkID0gb3duZXJJZDtcclxuICAgIHRoaXMuX2hhbmRsZUxpa2VOdW1iZXIgPSBoYW5kbGVMaWtlTnVtYmVyO1xyXG4gIH1cclxuXHJcbiAgX2dldFRlbXBsYXRlKCkge1xyXG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSBkb2N1bWVudFxyXG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl90ZW1wbGF0ZVNlbGVjdG9yKVxyXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzX19lbGVtZW50XCIpXHJcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgICByZXR1cm4gY2FyZEVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBnZW5lcmF0ZUNhcmQoKSB7XHJcbiAgICB0aGlzLl9pbWFnZUl0ZW0uc3JjID0gdGhpcy5faW1hZ2U7XHJcbiAgICB0aGlzLl90ZXh0SXRlbS50ZXh0Q29udGVudCA9IHRoaXMuX3RleHQ7XHJcbiAgICB0aGlzLl9pbWFnZUl0ZW0uYWx0ID0gYHZpZXcgb2YgJHt0aGlzLl90ZXh0fWA7XHJcbiAgICB0aGlzLnNldExpa2VzTnVtKHRoaXMuX2xpa2VzTnVtKTtcclxuICAgIHRoaXMuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX3VzZXJJZCA9PT0gdGhpcy5fb3duZXJJZCA/IG51bGwgOiB0aGlzLl9kZWxldGVJdGVtLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsXCJkaXNwbGF5Om5vbmVcIik7IFxyXG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBzZXRMaWtlc051bShsaWtlc0NvdW50KXtcclxuICAgIHRoaXMuX2xpa2VOdW1iZXIudGV4dENvbnRlbnQgPSBsaWtlc0NvdW50O1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9pbWFnZUl0ZW0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLl9saWtlSXRlbS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9oYW5kbGVMaWtlVG9nZ2xlKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLl9kZWxldGVJdGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMub3BlbkRlbGV0ZUNvbmZpcm1Qb3BVcCgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBvcGVuRGVsZXRlQ29uZmlybVBvcFVwKCkge1xyXG4gICAgdGhpcy5fb3BlbkRlbGV0ZUNvbmZpcm1Qb3BVcCh0aGlzLl9pZCk7XHJcbiAgfVxyXG5cclxuICBkZWxldGVEb21DYXJkKCl7XHJcbiAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUxpa2VUb2dnbGUoKSB7XHJcbiAgICB0aGlzLl9saWtlSXRlbS5jbGFzc0xpc3QudG9nZ2xlKFwiZWxlbWVudHNfX3N2Zy1oZWFydF9saWtlZFwiKTtcclxuICAgIGNvbnN0IHVwZGF0ZUFjdGlvbiA9IHRoaXMuX2xpa2VJdGVtLmNsYXNzTGlzdC5jb250YWlucyhcImVsZW1lbnRzX19zdmctaGVhcnRfbGlrZWRcIikgP1xyXG4gICAgXCJhZGRMaWtlXCIgOiBcImRlbGV0ZUxpa2VcIjtcclxuICAgIHRoaXMuX2hhbmRsZUxpa2VOdW1iZXIodGhpcy5faWQsIHVwZGF0ZUFjdGlvbik7XHJcbiAgfVxyXG59XHJcblxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xyXG4gIGNvbnN0cnVjdG9yKHsgYmFzZVVybCwgaGVhZGVycyB9KSB7XHJcbiAgICB0aGlzLl9iYXNlVXJsID0gYmFzZVVybDtcclxuICAgIHRoaXMuX2hlYWRlcnMgPSBoZWFkZXJzO1xyXG4gIH1cclxuXHJcbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwgeyBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzIH0pXHJcbiAgICAgIC50aGVuKChyZXMpID0+IChyZXMub2sgPyByZXMuanNvbigpIDogUHJvbWlzZS5yZWplY3QocmVzLnN0YXR1c1RleHQpKSlcclxuICAgICAgLmNhdGNoKGNvbnNvbGUubG9nKTtcclxuICB9XHJcblxyXG4gIHBvc3ROZXdDYXJkKG5hbWUsbGluaykge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwgeyBcclxuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWUsXHJcbiAgICAgICAgbGluayxcclxuICAgICAgfSksXHJcbiAgICB9KVxyXG4gICAgICAudGhlbigocmVzKSA9PiAocmVzLm9rID8gcmVzLmpzb24oKSA6IFByb21pc2UucmVqZWN0KHJlcy5zdGF0dXNUZXh0KSkpXHJcbiAgICAgIC5jYXRjaChjb25zb2xlLmxvZyk7XHJcbiAgfVxyXG5cclxuICBjb25maXJtRGVsZXRlKGNhcmRJZCl7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9YCwgeyBcclxuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXHJcbiAgfSkudGhlbigocmVzKSA9PiAocmVzLm9rID8gcmVzLmpzb24oKSA6IFByb21pc2UucmVqZWN0KHJlcy5zdGF0dXNUZXh0KSkpXHJcbiAgLmNhdGNoKGNvbnNvbGUubG9nKTtcclxufVxyXG5cclxuZGVsZXRlTGlrZShjYXJkSWQpe1xyXG4gIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy9saWtlcy8ke2NhcmRJZH1gLCB7IFxyXG4gICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xyXG59KS50aGVuKChyZXMpID0+IChyZXMub2sgPyByZXMuanNvbigpIDogUHJvbWlzZS5yZWplY3QocmVzLnN0YXR1c1RleHQpKSlcclxuLmNhdGNoKGNvbnNvbGUubG9nKTtcclxufVxyXG5cclxuYWRkTGlrZShjYXJkSWQpe1xyXG4gIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy9saWtlcy8ke2NhcmRJZH1gLCB7IFxyXG4gICAgbWV0aG9kOiBcIlBVVFwiLFxyXG4gICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xyXG59KS50aGVuKChyZXMpID0+IChyZXMub2sgPyByZXMuanNvbigpIDogUHJvbWlzZS5yZWplY3QocmVzLnN0YXR1c1RleHQpKSlcclxuLmNhdGNoKGNvbnNvbGUubG9nKTtcclxufVxyXG5cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHsgaGVhZGVyczogdGhpcy5faGVhZGVycyB9KVxyXG4gICAgICAudGhlbigocmVzKSA9PiAocmVzLm9rID8gcmVzLmpzb24oKSA6IFByb21pc2UucmVqZWN0KHJlcy5zdGF0dXNUZXh0KSkpXHJcbiAgICAgIC5jYXRjaChjb25zb2xlLmxvZyk7XHJcbiAgfVxyXG5cclxuICBlZGl0VXNlckluZm8oe2Zvcm1fX25hbWUsIGZvcm1fX3JvbGV9KSB7XHJcbiAgICBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lOiBmb3JtX19uYW1lLFxyXG4gICAgICAgIGFib3V0OiBmb3JtX19yb2xlLFxyXG4gICAgICB9KSxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZWRpdEF2YXRhckltYWdlKGltYWdlTGluaykge1xyXG4gICAgZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIGF2YXRhcjogaW1hZ2VMaW5rXHJcbiAgICAgIH0pLFxyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgYXBpID0gbmV3IEFwaSh7XHJcbiAgYmFzZVVybDogXCJodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL2dyb3VwLTEyXCIsXHJcbiAgaGVhZGVyczoge1xyXG4gICAgYXV0aG9yaXphdGlvbjogXCJkMTE3Y2E0Yy0wMWVmLTRmMTktYWJlZS0zODdiNGUzMmU2OWRcIixcclxuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gIH0sXHJcbn0pO1xyXG4iLCJpbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xyXG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XHJcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhTdWJtaXQgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoU3VibWl0LmpzXCI7XHJcblxyXG5pbXBvcnQge1xyXG4gIHNldHRpbmdzLFxyXG4gIGVkaXRQcm9maWxlSW1hZ2UsXHJcbiAgbmFtZVNlbGVjdG9yLFxyXG4gIHJvbGVTZWxlY3RvcixcclxuICBwcm9maWxlQWRkQnRuLFxyXG4gIHByb2ZpbGVFZGl0QnRuLFxyXG4gIHByb2ZpbGVJbWFnZSxcclxuICBpbWFnZVBvcHVwU2VsZWN0b3IsXHJcbiAgZ2FsbGVyeVNlbGVjdG9yLFxyXG4gIHVzZXJOYW1lLFxyXG4gIHVzZXJSb2xlLFxyXG4gIGlucHV0TmFtZSxcclxuICBpbnB1dFJvbGUsXHJcbn0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xyXG5cclxuaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcclxuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xyXG5pbXBvcnQgeyBhcGkgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGkuanNcIjtcclxuXHJcbmNvbnN0IGdhbGxlcnkgPSBuZXcgU2VjdGlvbihcclxuICB7XHJcbiAgICBkYXRhOiBbXSxcclxuICAgIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xyXG4gICAgICBnYWxsZXJ5LmFkZEl0ZW0oY2FyZFJlbmRlcmVyKGl0ZW0pKTtcclxuICAgIH0sXHJcbiAgfSxcclxuICBnYWxsZXJ5U2VsZWN0b3JcclxuKTtcclxuXHJcbmNvbnN0IGFkZFBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIjYWRkSW1hZ2VcIiwgaGFuZGxlQ2FyZEZvcm1TdWJtaXQpO1xyXG5jb25zdCBlZGl0UHJvZmlsZUltZ1BvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oXHJcbiAgXCIjZWRpdFByb2ZpbGVJbWFnZVwiLFxyXG4gIGhhbmRsZUVkaXRQcm9maWxlSW1hZ2VcclxuKTtcclxuY29uc3QgZWRpdFBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIjZWRpdFByb2ZpbGVcIiwgaGFuZGxlUHJvZmlsZUZvcm1TdWJtaXQpO1xyXG5jb25zdCBjb25maXJtRGVsZXRlUG9wVXAgPSBuZXcgUG9wdXBXaXRoU3VibWl0KFwiI2NvbmZpcm1EZWxldGVcIik7XHJcbmNvbnN0IGltYWdlUG9wdXAgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoaW1hZ2VQb3B1cFNlbGVjdG9yKTtcclxuY29uc3QgcHJvZmlsZVVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHsgbmFtZVNlbGVjdG9yLCByb2xlU2VsZWN0b3IgfSk7XHJcblxyXG5jb25zdCBmb3JtVmFsaWRhdG9ycyA9IHt9O1xyXG5jb25zdCBlbmFibGVWYWxpZGF0aW9uID0gKHNldHRpbmdzKSA9PiB7XHJcbiAgY29uc3QgZm9ybUxpc3QgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2V0dGluZ3MuZm9ybVNlbGVjdG9yKSk7XHJcbiAgZm9ybUxpc3QuZm9yRWFjaCgoZm9ybUVsZW1lbnQpID0+IHtcclxuICAgIGNvbnN0IHZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHNldHRpbmdzLCBmb3JtRWxlbWVudCk7XHJcbiAgICBjb25zdCBmb3JtTmFtZSA9IGZvcm1FbGVtZW50LmdldEF0dHJpYnV0ZShcIm5hbWVcIik7XHJcbiAgICBmb3JtVmFsaWRhdG9yc1tmb3JtTmFtZV0gPSB2YWxpZGF0b3I7XHJcbiAgICB2YWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG4gIH0pO1xyXG59O1xyXG5cclxuZW5hYmxlVmFsaWRhdGlvbihzZXR0aW5ncyk7XHJcbmVkaXRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5hZGRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5lZGl0UHJvZmlsZUltZ1BvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbmNvbmZpcm1EZWxldGVQb3BVcC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuY29uc3QgY2FyZFJlbmRlcmVyID0gKGl0ZW0pID0+IHtcclxuICBjb25zdCBvd25lcklkID0gaXRlbS5vd25lcklkID8gaXRlbS5vd25lcklkIDogaXRlbS5vd25lci5faWQ7XHJcbiAgY29uc3QgdGV4dCA9IGl0ZW0ubmFtZTtcclxuICBjb25zdCBpbWFnZSA9IGl0ZW0ubGluaztcclxuICBsZXQgbGlrZXNOdW0gPSBpdGVtLmxpa2VzLmxlbmd0aDtcclxuICBjb25zdCBpZCA9IGl0ZW0uX2lkO1xyXG5cclxuICBjb25zdCBoYW5kbGVDYXJkQ2xpY2sgPSAoaW1hZ2VQb3B1cCkgPT4ge1xyXG4gICAgaW1hZ2VQb3B1cC5vcGVuKGltYWdlLCB0ZXh0KTtcclxuICB9O1xyXG5cclxuICBpbWFnZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKFxyXG4gICAge1xyXG4gICAgICBvd25lcklkLFxyXG4gICAgICB0ZXh0LFxyXG4gICAgICBpbWFnZSxcclxuICAgICAgaWQsXHJcbiAgICAgIGxpa2VzTnVtLFxyXG4gICAgICBoYW5kbGVDYXJkQ2xpY2s6ICgpID0+IHtcclxuICAgICAgICBoYW5kbGVDYXJkQ2xpY2soaW1hZ2VQb3B1cCk7XHJcbiAgICAgIH0sXHJcbiAgICAgIG9wZW5EZWxldGVDb25maXJtUG9wVXA6IChpZCkgPT4ge1xyXG4gICAgICAgIGNvbmZpcm1EZWxldGVQb3BVcC5vcGVuKCk7XHJcbiAgICAgICAgY29uZmlybURlbGV0ZVBvcFVwLmRlbGV0ZUFjdGlvbigoKSA9PiB7XHJcbiAgICAgICAgICBhcGkuY29uZmlybURlbGV0ZShpZCkudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgICAgIGNhcmQuZGVsZXRlRG9tQ2FyZCgpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0sXHJcbiAgICAgIGhhbmRsZUxpa2VOdW1iZXI6IChpZCwgdXBkYXRlQWN0aW9uKSA9PiB7XHJcbiAgICAgICAgaWYgKHVwZGF0ZUFjdGlvbiA9PT0gXCJhZGRMaWtlXCIpIHtcclxuICAgICAgICAgIGFwaS5hZGRMaWtlKGlkKS50aGVuKChsaWtlc051bSArPSAxKSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGFwaS5kZWxldGVMaWtlKGlkKS50aGVuKChyZXMpID0+IHJlcyk7XHJcbiAgICAgICAgICBpZiAobGlrZXNOdW0gPiAwKSB7XHJcbiAgICAgICAgICAgIGxpa2VzTnVtIC09IDE7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhcmQuc2V0TGlrZXNOdW0obGlrZXNOdW0pO1xyXG4gICAgICB9LFxyXG4gICAgfSxcclxuXHJcbiAgICBcIiNjYXJkLXRlbXBsYXRlXCIsXHJcbiAgICB1c2VySWRcclxuICApO1xyXG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZC5nZW5lcmF0ZUNhcmQoKTtcclxuXHJcbiAgcmV0dXJuIGNhcmRFbGVtZW50O1xyXG59O1xyXG5cclxubGV0IHVzZXJJZDtcclxuUHJvbWlzZS5hbGwoW2FwaS5nZXRVc2VySW5mbygpLCBhcGkuZ2V0SW5pdGlhbENhcmRzKCldKS50aGVuKFxyXG4gIChbcmVzVXNlciwgcmVzQ2FyZHNdKSA9PiB7XHJcbiAgICB1c2VySWQgPSByZXNVc2VyLl9pZDtcclxuICAgIGNvbnN0IGNhcmRzID0gQXJyYXkuZnJvbShyZXNDYXJkcyk7XHJcbiAgICBjYXJkcy5mb3JFYWNoKChjYXJkKSA9PiB7XHJcbiAgICAgIGdhbGxlcnkuYWRkSXRlbShjYXJkUmVuZGVyZXIoY2FyZCkpO1xyXG4gICAgfSk7XHJcbiAgICB1c2VyTmFtZS50ZXh0Q29udGVudCA9IHJlc1VzZXIubmFtZTtcclxuICAgIHVzZXJSb2xlLnRleHRDb250ZW50ID0gcmVzVXNlci5hYm91dDtcclxuICB9XHJcbik7XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVQcm9maWxlRm9ybVN1Ym1pdCgpIHtcclxuICBjb25zdCBpbnB1dEZpZWxkcyA9IGVkaXRQb3B1cC5nZXRJbnB1dFZhbHVlcygpO1xyXG4gIHByb2ZpbGVVc2VySW5mby5zZXRVc2VySW5mbyhpbnB1dEZpZWxkcyk7XHJcbiAgYXBpLmVkaXRVc2VySW5mbyhpbnB1dEZpZWxkcyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUNhcmRGb3JtU3VibWl0KCkge1xyXG4gIGNvbnN0IGlucHV0RmllbGRzID0gYWRkUG9wdXAuZ2V0SW5wdXRWYWx1ZXMoKTtcclxuICBjb25zdCB0ZXh0ID0gaW5wdXRGaWVsZHMuZm9ybV9fdGl0bGU7XHJcbiAgY29uc3QgaW1hZ2UgPSBpbnB1dEZpZWxkcy5mb3JtX19pbWFnZUxpbms7XHJcbiAgY29uc3QgaXRlbSA9IHt9O1xyXG4gIGl0ZW0ubmFtZSA9IHRleHQ7XHJcbiAgaXRlbS5saW5rID0gaW1hZ2U7XHJcbiAgYXBpLnBvc3ROZXdDYXJkKHRleHQsIGltYWdlKS50aGVuKChyZXMpID0+IHtcclxuICAgIGl0ZW0ub3duZXJJZCA9IHJlcy5vd25lci5faWQ7XHJcbiAgICBpdGVtLl9pZCA9IHJlcy5faWQ7XHJcbiAgICBpdGVtLmxpa2VzID0gcmVzLmxpa2VzO1xyXG4gICAgZ2FsbGVyeS5hZGRJdGVtKGNhcmRSZW5kZXJlcihpdGVtKSk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUVkaXRQcm9maWxlSW1hZ2UoKSB7XHJcbiAgY29uc3QgaW5wdXRMaW5rRmllbGQgPSBlZGl0UHJvZmlsZUltZ1BvcHVwLmdldElucHV0VmFsdWVzKCk7XHJcbiAgY29uc3QgbGluayA9IGlucHV0TGlua0ZpZWxkLmZvcm1fX2ltYWdlTGluaztcclxuICBhcGkuZWRpdEF2YXRhckltYWdlKGxpbmspO1xyXG4gIHByb2ZpbGVJbWFnZS5zcmMgPSBsaW5rO1xyXG59XHJcblxyXG5wcm9maWxlRWRpdEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIGNvbnN0IGN1cnJlbnRVc2VyUHJvZmlsZSA9IHt9O1xyXG4gIGFwaS5nZXRVc2VySW5mbygpLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgaW5wdXROYW1lLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIHJlcy5uYW1lKTtcclxuICAgIGlucHV0Um9sZS5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCByZXMuYWJvdXQpO1xyXG4gIH0pO1xyXG4gIGZvcm1WYWxpZGF0b3JzW1wiZWRpdF9fZm9ybVwiXS5yZXNldFZhbGlkYXRpb24oKTtcclxuICBlZGl0UG9wdXAub3BlbigpO1xyXG59KTtcclxuXHJcbnByb2ZpbGVBZGRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBmb3JtVmFsaWRhdG9yc1tcImFkZF9fZm9ybVwiXS5yZXNldFZhbGlkYXRpb24oKTtcclxuICBhZGRQb3B1cC5vcGVuKCk7XHJcbn0pO1xyXG5cclxuZWRpdFByb2ZpbGVJbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIGZvcm1WYWxpZGF0b3JzW1wiZWRpdFByb2ZpbGVJbWFnZV9fZm9ybVwiXS5yZXNldFZhbGlkYXRpb24oKTtcclxuICBlZGl0UHJvZmlsZUltZ1BvcHVwLm9wZW4oKTtcclxufSk7XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xyXG4gIGNvbnN0cnVjdG9yKHsgZGF0YSwgcmVuZGVyZXIgfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5faXRlbXMgPSBkYXRhO1xyXG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjsgXHJcbiAgfVxyXG4gICAgXHJcbiAgcmVuZGVyZXIoKSB7XHJcbiAgICB0aGlzLl9pdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBhZGRJdGVtKGl0ZW0pIHtcclxuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGl0ZW0pO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aFN1Ym1pdCBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2Zvcm1Qb3B1cEVsZW1lbnQgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybVwiKTtcclxuICB9XHJcblxyXG4gIGRlbGV0ZUFjdGlvbihhY3Rpb24pe1xyXG4gICAgdGhpcy5fc3VibWl0SGFuZGxlciA9IGFjdGlvbjtcclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX2Zvcm1Qb3B1cEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEhhbmRsZXIoKTtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IoaW1hZ2VQb3B1cFNlbGVjdG9yKSB7XHJcbiAgICBzdXBlcihpbWFnZVBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5faW1hZ2VGaWxlID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2ltYWdlUG9wVXBcIik7XHJcbiAgICB0aGlzLl9pbWFnZVRleHQgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgXCIucG9wdXBfX2ltYWdlUG9wVXAtdGV4dFwiXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgb3BlbiA9IChpbWFnZSwgdGV4dCkgPT4ge1xyXG4gICAgdGhpcy5faW1hZ2VGaWxlLnNyYyA9IGltYWdlO1xyXG4gICAgdGhpcy5faW1hZ2VUZXh0LnRleHRDb250ZW50ID0gdGV4dDtcclxuICAgIHRoaXMuX2ltYWdlRmlsZS5hbHQgPSBgdmlldyBvZiAke3RleHR9YDtcclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICB9O1xyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcclxuICBjb25zdHJ1Y3Rvcih7IG5hbWVTZWxlY3Rvciwgcm9sZVNlbGVjdG9yIH0pIHtcclxuICAgIHRoaXMuX25hbWVTZWxlY3RvciA9IG5hbWVTZWxlY3RvcjtcclxuICAgIHRoaXMuX3JvbGVTZWxlY3RvciA9IHJvbGVTZWxlY3RvcjtcclxuICAgIHRoaXMuX3Byb2ZpbGVOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9uYW1lU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fcHJvZmlsZVJvbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX3JvbGVTZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIGNvbnN0IHVzZXJEYXRhID0ge307XHJcbiAgICB1c2VyRGF0YS5uYW1lID0gdGhpcy5fcHJvZmlsZU5hbWUudGV4dENvbnRlbnQ7XHJcbiAgICB1c2VyRGF0YS5yb2xlID0gdGhpcy5fcHJvZmlsZVJvbGUudGV4dENvbnRlbnQ7XHJcbiAgICByZXR1cm4gdXNlckRhdGE7XHJcbiAgfVxyXG5cclxuICBzZXRVc2VySW5mbyhkYXRhKSB7XHJcbiAgICB0aGlzLl9wcm9maWxlTmFtZS50ZXh0Q29udGVudCA9IGRhdGEuZm9ybV9fbmFtZTtcclxuICAgIHRoaXMuX3Byb2ZpbGVSb2xlLnRleHRDb250ZW50ID0gZGF0YS5mb3JtX19yb2xlO1xyXG4gIH1cclxufVxyXG5cclxuXHJcbiJdLCJuYW1lcyI6WyJGb3JtVmFsaWRhdG9yIiwiY29uc3RydWN0b3IiLCJzZXR0aW5ncyIsImZvcm1FbGVtZW50IiwiaW5wdXRMaXN0Iiwic29tZSIsImlucHV0RWxlbWVudCIsInZhbGlkaXR5IiwidmFsaWQiLCJ0aGlzIiwiX2hhc0ludmFsaWRJbnB1dCIsIl9pbnB1dExpc3QiLCJfYnV0dG9uRWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwic2V0QXR0cmlidXRlIiwicmVtb3ZlIiwicmVtb3ZlQXR0cmlidXRlIiwiX2lucHV0U2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiX2lucHV0RXJyb3JDbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsIl9lcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsIl9mb3JtRWxlbWVudCIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJxdWVyeVNlbGVjdG9yIiwiX3Nob3dJbnB1dEVycm9yIiwiZXJyb3JNZXNzYWdlIiwiZXJyb3JFbGVtZW50IiwiaWQiLCJ0ZXh0Q29udGVudCIsIl9oaWRlSW5wdXRFcnJvciIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9zZXRJbnB1dHNFdmVudExpc3RlbmVycyIsImZvckVhY2giLCJhZGRFdmVudExpc3RlbmVyIiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwicmVzZXRWYWxpZGF0aW9uIiwiZW5hYmxlVmFsaWRhdGlvbiIsImV2dCIsInByZXZlbnREZWZhdWx0IiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwia2V5IiwiY2xvc2UiLCJfcG9wdXBFbGVtZW50IiwiZG9jdW1lbnQiLCJvcGVuIiwiX2hhbmRsZUVzY0Nsb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInNldEV2ZW50TGlzdGVuZXJzIiwiZSIsInRhcmdldCIsImNvbnRhaW5zIiwiUG9wdXBXaXRoRm9ybSIsInN1Ym1pdEhhbmRsZXIiLCJzdXBlciIsIl9mb3JtUG9wdXBFbGVtZW50IiwiX3N1Ym1pdEJ0biIsIl9zdWJtaXRIYW5kbGVyIiwiZ2V0SW5wdXRWYWx1ZXMiLCJpbnB1dEZpZWxkcyIsImlucHV0IiwibmFtZSIsInZhbHVlIiwicHJldlRleHQiLCJkaWFibGVkIiwic2V0VGltZW91dCIsInJlc2V0IiwiZ2FsbGVyeVNlbGVjdG9yIiwibmFtZVNlbGVjdG9yIiwicm9sZVNlbGVjdG9yIiwicHJvZmlsZUVkaXRCdG4iLCJwcm9maWxlQWRkQnRuIiwiaW5wdXROYW1lIiwiaW5wdXRSb2xlIiwidXNlck5hbWUiLCJ1c2VyUm9sZSIsImVkaXRQcm9maWxlSW1hZ2UiLCJwcm9maWxlSW1hZ2UiLCJDYXJkIiwidGVtcGxhdGVTZWxlY3RvciIsInVzZXJJZCIsIm93bmVySWQiLCJ0ZXh0IiwiaW1hZ2UiLCJsaWtlc051bSIsImhhbmRsZUNhcmRDbGljayIsIm9wZW5EZWxldGVDb25maXJtUG9wVXAiLCJoYW5kbGVMaWtlTnVtYmVyIiwiX3RleHQiLCJfaW1hZ2UiLCJfbGlrZXNOdW0iLCJfdGVtcGxhdGVTZWxlY3RvciIsIl9oYW5kbGVDYXJkQ2xpY2siLCJfb3BlbkRlbGV0ZUNvbmZpcm1Qb3BVcCIsIl9lbGVtZW50IiwiX2dldFRlbXBsYXRlIiwiX2ltYWdlSXRlbSIsIl90ZXh0SXRlbSIsIl9saWtlSXRlbSIsIl9kZWxldGVJdGVtIiwiX2xpa2VOdW1iZXIiLCJfaWQiLCJfdXNlcklkIiwiX293bmVySWQiLCJfaGFuZGxlTGlrZU51bWJlciIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJnZW5lcmF0ZUNhcmQiLCJzcmMiLCJhbHQiLCJzZXRMaWtlc051bSIsImxpa2VzQ291bnQiLCJfaGFuZGxlTGlrZVRvZ2dsZSIsImRlbGV0ZURvbUNhcmQiLCJ0b2dnbGUiLCJ1cGRhdGVBY3Rpb24iLCJhcGkiLCJiYXNlVXJsIiwiaGVhZGVycyIsIl9iYXNlVXJsIiwiX2hlYWRlcnMiLCJnZXRJbml0aWFsQ2FyZHMiLCJmZXRjaCIsInRoZW4iLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzVGV4dCIsImNhdGNoIiwiY29uc29sZSIsImxvZyIsInBvc3ROZXdDYXJkIiwibGluayIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiY29uZmlybURlbGV0ZSIsImNhcmRJZCIsImRlbGV0ZUxpa2UiLCJhZGRMaWtlIiwiZ2V0VXNlckluZm8iLCJlZGl0VXNlckluZm8iLCJmb3JtX19uYW1lIiwiZm9ybV9fcm9sZSIsImFib3V0IiwiZWRpdEF2YXRhckltYWdlIiwiaW1hZ2VMaW5rIiwiYXZhdGFyIiwiYXV0aG9yaXphdGlvbiIsImdhbGxlcnkiLCJjb250YWluZXJTZWxlY3RvciIsImRhdGEiLCJyZW5kZXJlciIsIl9jb250YWluZXIiLCJfaXRlbXMiLCJfcmVuZGVyZXIiLCJpdGVtIiwiYWRkSXRlbSIsInByZXBlbmQiLCJjYXJkUmVuZGVyZXIiLCJhZGRQb3B1cCIsImZvcm1fX3RpdGxlIiwiZm9ybV9faW1hZ2VMaW5rIiwib3duZXIiLCJsaWtlcyIsImVkaXRQcm9maWxlSW1nUG9wdXAiLCJlZGl0UG9wdXAiLCJwcm9maWxlVXNlckluZm8iLCJzZXRVc2VySW5mbyIsImNvbmZpcm1EZWxldGVQb3BVcCIsImRlbGV0ZUFjdGlvbiIsImFjdGlvbiIsImltYWdlUG9wdXAiLCJpbWFnZVBvcHVwU2VsZWN0b3IiLCJfaW1hZ2VGaWxlIiwiX2ltYWdlVGV4dCIsIl9uYW1lU2VsZWN0b3IiLCJfcm9sZVNlbGVjdG9yIiwiX3Byb2ZpbGVOYW1lIiwiX3Byb2ZpbGVSb2xlIiwidXNlckRhdGEiLCJyb2xlIiwiZm9ybVZhbGlkYXRvcnMiLCJmb3JtU2VsZWN0b3IiLCJ2YWxpZGF0b3IiLCJmb3JtTmFtZSIsImdldEF0dHJpYnV0ZSIsImxlbmd0aCIsImNhcmQiLCJhbGwiLCJyZXNVc2VyIiwicmVzQ2FyZHMiXSwic291cmNlUm9vdCI6IiJ9